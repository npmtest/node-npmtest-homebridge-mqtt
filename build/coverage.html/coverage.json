{"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_homebridge_mqtt */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - init-after","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - init-after","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - init-after","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/lib.npmtest_homebridge_mqtt.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/lib.npmtest_homebridge_mqtt.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":60}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":66}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_homebridge_mqtt */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_homebridge_mqtt = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_homebridge_mqtt = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":59}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":73},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-homebridge-mqtt && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_homebridge_mqtt */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_homebridge_mqtt","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // init-after","    // run browser js-env code - init-after","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - init-after","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_homebridge_mqtt.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_homebridge_mqtt.rollup.js'] =","            local.assetsDict['/assets.npmtest_homebridge_mqtt.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_homebridge_mqtt.__dirname + '/lib.npmtest_homebridge_mqtt.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":38}}},"2":{"name":"PluginPlatform","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":42}}},"3":{"name":"(anonymous_3)","line":40,"loc":{"start":{"line":40,"column":37},"end":{"line":40,"column":59}}},"4":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":33},"end":{"line":66,"column":44}}},"5":{"name":"(anonymous_5)","line":74,"loc":{"start":{"line":74,"column":46},"end":{"line":74,"column":66}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":59}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":51}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":26}},"5":{"start":{"line":9,"column":0},"end":{"line":9,"column":27}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":48}},"7":{"start":{"line":11,"column":0},"end":{"line":11,"column":16}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":19}},"9":{"start":{"line":14,"column":0},"end":{"line":25,"column":1}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":63}},"11":{"start":{"line":17,"column":2},"end":{"line":17,"column":46}},"12":{"start":{"line":19,"column":2},"end":{"line":19,"column":35}},"13":{"start":{"line":20,"column":2},"end":{"line":20,"column":49}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":32}},"15":{"start":{"line":22,"column":2},"end":{"line":22,"column":46}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":80}},"17":{"start":{"line":27,"column":0},"end":{"line":72,"column":1}},"18":{"start":{"line":29,"column":2},"end":{"line":29,"column":17}},"19":{"start":{"line":31,"column":2},"end":{"line":35,"column":3}},"20":{"start":{"line":32,"column":4},"end":{"line":32,"column":48}},"21":{"start":{"line":33,"column":4},"end":{"line":33,"column":46}},"22":{"start":{"line":34,"column":4},"end":{"line":34,"column":20}},"23":{"start":{"line":37,"column":2},"end":{"line":37,"column":45}},"24":{"start":{"line":38,"column":2},"end":{"line":38,"column":50}},"25":{"start":{"line":40,"column":2},"end":{"line":44,"column":16}},"26":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"27":{"start":{"line":42,"column":6},"end":{"line":42,"column":60}},"28":{"start":{"line":46,"column":2},"end":{"line":46,"column":50}},"29":{"start":{"line":47,"column":2},"end":{"line":47,"column":56}},"30":{"start":{"line":49,"column":2},"end":{"line":60,"column":3}},"31":{"start":{"line":62,"column":2},"end":{"line":62,"column":49}},"32":{"start":{"line":64,"column":2},"end":{"line":71,"column":3}},"33":{"start":{"line":66,"column":4},"end":{"line":70,"column":18}},"34":{"start":{"line":67,"column":6},"end":{"line":67,"column":70}},"35":{"start":{"line":69,"column":6},"end":{"line":69,"column":30}},"36":{"start":{"line":74,"column":0},"end":{"line":80,"column":1}},"37":{"start":{"line":77,"column":2},"end":{"line":77,"column":22}},"38":{"start":{"line":79,"column":2},"end":{"line":79,"column":48}}},"branchMap":{"1":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":31,"column":2}},{"start":{"line":31,"column":2},"end":{"line":31,"column":2}}]},"2":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":36}},{"start":{"line":31,"column":40},"end":{"line":31,"column":55}}]},"3":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":4},"end":{"line":41,"column":4}},{"start":{"line":41,"column":4},"end":{"line":41,"column":4}}]},"4":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":64,"column":2}},{"start":{"line":64,"column":2},"end":{"line":64,"column":2}}]}},"code":["'use strict';","","var Utils = require('./lib/utils.js').Utils;","var Controller = require('./lib/controller.js').Controller;","","var HapAccessory, Service, Characteristic, UUIDGen;","var cachedAccessories = 0;","","var platform_name = \"mqtt\";","var plugin_name = \"homebridge-\" + platform_name;","var storagePath;","var plugin_version;","","module.exports = function(homebridge) {","  console.log(\"homebridge API version: \" + homebridge.version);","  ","  HapAccessory = homebridge.platformAccessory;","  ","  Service = homebridge.hap.Service;","  Characteristic = homebridge.hap.Characteristic;","  UUIDGen = homebridge.hap.uuid; // Universally Unique IDentifier","  storagePath = homebridge.user.storagePath();","    ","  homebridge.registerPlatform(plugin_name, platform_name, PluginPlatform, true);","}","","function PluginPlatform(log, config, api) {","","  this.log = log;","  ","  if (typeof(config) === \"undefined\" || config === null) {","    this.log.error(\"config undefined or null!\");","    this.log(\"storagePath = %s\", storagePath);","    process.exit(1);","  }","  ","  plugin_version = Utils.readPluginVersion();","  this.log(\"%s v%s\", plugin_name, plugin_version);","  ","  Utils.read_npmVersion(plugin_name, function(npm_version) {","    if (npm_version > plugin_version) {","      this.log(\"A new version %s is avaiable\", npm_version);","    }","  }.bind(this));","  ","  this.log.debug(\"storagePath = %s\", storagePath);","  this.log.debug(\"config = %s\", JSON.stringify(config));","  ","  var c_parameters = {","    \"config\": config,","    \"log\": this.log,","    \"plugin_name\": plugin_name,","    \"plugin_version\": plugin_version,","    \"platform_name\": platform_name,","    \"api\": api,","    \"HapAccessory\": HapAccessory,","    \"Characteristic\": Characteristic,","    \"Service\": Service,","    \"UUIDGen\": UUIDGen","  }","  ","  this.controller = new Controller(c_parameters);","","  if (api) {","","    api.on('didFinishLaunching', function() {","      this.log(\"Number of cached Accessories: %s\", cachedAccessories);","      ","      this.controller.start();      ","    }.bind(this));","  }","}","","PluginPlatform.prototype.configureAccessory = function(accessory) {","","  //this.log.debug(\"configureAccessory %s\", JSON.stringify(accessory, null, 2));","  cachedAccessories++;","  ","  this.controller.configureAccessory(accessory);","}",""],"l":{"3":1,"4":1,"6":1,"7":1,"9":1,"10":1,"11":1,"12":1,"14":1,"15":0,"17":0,"19":0,"20":0,"21":0,"22":0,"24":0,"27":1,"29":0,"31":0,"32":0,"33":0,"34":0,"37":0,"38":0,"40":0,"41":0,"42":0,"46":0,"47":0,"49":0,"62":0,"64":0,"66":0,"67":0,"69":0,"74":1,"77":0,"79":0}},"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/lib/utils.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/lib/utils.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":1,"49":0,"50":0,"51":0,"52":1,"53":0,"54":1,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":1,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0,0,0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"Utils","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":17}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":19},"end":{"line":20,"column":68}}},"3":{"name":"(anonymous_3)","line":46,"loc":{"start":{"line":46,"column":19},"end":{"line":46,"column":74}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":24},"end":{"line":61,"column":35}}},"5":{"name":"(anonymous_5)","line":85,"loc":{"start":{"line":85,"column":25},"end":{"line":85,"column":36}}},"6":{"name":"(anonymous_6)","line":89,"loc":{"start":{"line":89,"column":23},"end":{"line":89,"column":37}}},"7":{"name":"(anonymous_7)","line":91,"loc":{"start":{"line":91,"column":28},"end":{"line":91,"column":46}}},"8":{"name":"(anonymous_8)","line":97,"loc":{"start":{"line":97,"column":12},"end":{"line":97,"column":30}}},"9":{"name":"(anonymous_9)","line":101,"loc":{"start":{"line":101,"column":25},"end":{"line":101,"column":51}}},"10":{"name":"(anonymous_10)","line":106,"loc":{"start":{"line":106,"column":26},"end":{"line":106,"column":37}}},"11":{"name":"(anonymous_11)","line":114,"loc":{"start":{"line":114,"column":24},"end":{"line":114,"column":48}}},"12":{"name":"(anonymous_12)","line":117,"loc":{"start":{"line":117,"column":12},"end":{"line":117,"column":44}}},"13":{"name":"(anonymous_13)","line":125,"loc":{"start":{"line":125,"column":26},"end":{"line":125,"column":46}}},"14":{"name":"(anonymous_14)","line":127,"loc":{"start":{"line":127,"column":26},"end":{"line":127,"column":56}}},"15":{"name":"(anonymous_15)","line":157,"loc":{"start":{"line":157,"column":16},"end":{"line":157,"column":35}}},"16":{"name":"(anonymous_16)","line":200,"loc":{"start":{"line":200,"column":16},"end":{"line":200,"column":34}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":19}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":19}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":16}},"9":{"start":{"line":13,"column":0},"end":{"line":15,"column":1}},"10":{"start":{"line":17,"column":0},"end":{"line":18,"column":1}},"11":{"start":{"line":20,"column":0},"end":{"line":44,"column":1}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":79}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":64}},"14":{"start":{"line":26,"column":2},"end":{"line":29,"column":3}},"15":{"start":{"line":27,"column":6},"end":{"line":27,"column":86}},"16":{"start":{"line":28,"column":6},"end":{"line":28,"column":22}},"17":{"start":{"line":32,"column":2},"end":{"line":32,"column":13}},"18":{"start":{"line":33,"column":2},"end":{"line":42,"column":3}},"19":{"start":{"line":35,"column":4},"end":{"line":35,"column":54}},"20":{"start":{"line":38,"column":4},"end":{"line":38,"column":74}},"21":{"start":{"line":39,"column":4},"end":{"line":39,"column":105}},"22":{"start":{"line":40,"column":4},"end":{"line":40,"column":20}},"23":{"start":{"line":41,"column":4},"end":{"line":41,"column":14}},"24":{"start":{"line":43,"column":2},"end":{"line":43,"column":16}},"25":{"start":{"line":46,"column":0},"end":{"line":59,"column":1}},"26":{"start":{"line":48,"column":2},"end":{"line":48,"column":79}},"27":{"start":{"line":49,"column":2},"end":{"line":49,"column":64}},"28":{"start":{"line":51,"column":2},"end":{"line":58,"column":3}},"29":{"start":{"line":53,"column":4},"end":{"line":53,"column":65}},"30":{"start":{"line":56,"column":4},"end":{"line":56,"column":74}},"31":{"start":{"line":57,"column":4},"end":{"line":57,"column":14}},"32":{"start":{"line":61,"column":0},"end":{"line":83,"column":1}},"33":{"start":{"line":63,"column":2},"end":{"line":63,"column":32}},"34":{"start":{"line":64,"column":2},"end":{"line":64,"column":24}},"35":{"start":{"line":66,"column":2},"end":{"line":66,"column":84}},"36":{"start":{"line":67,"column":2},"end":{"line":67,"column":65}},"37":{"start":{"line":68,"column":2},"end":{"line":68,"column":11}},"38":{"start":{"line":70,"column":2},"end":{"line":81,"column":3}},"39":{"start":{"line":71,"column":4},"end":{"line":71,"column":20}},"40":{"start":{"line":73,"column":4},"end":{"line":80,"column":5}},"41":{"start":{"line":74,"column":6},"end":{"line":74,"column":30}},"42":{"start":{"line":75,"column":6},"end":{"line":75,"column":30}},"43":{"start":{"line":76,"column":6},"end":{"line":76,"column":34}},"44":{"start":{"line":79,"column":6},"end":{"line":79,"column":40}},"45":{"start":{"line":82,"column":2},"end":{"line":82,"column":22}},"46":{"start":{"line":85,"column":0},"end":{"line":87,"column":1}},"47":{"start":{"line":86,"column":2},"end":{"line":86,"column":24}},"48":{"start":{"line":89,"column":0},"end":{"line":95,"column":1}},"49":{"start":{"line":91,"column":2},"end":{"line":93,"column":5}},"50":{"start":{"line":92,"column":4},"end":{"line":92,"column":26}},"51":{"start":{"line":94,"column":2},"end":{"line":94,"column":21}},"52":{"start":{"line":97,"column":0},"end":{"line":99,"column":1}},"53":{"start":{"line":98,"column":2},"end":{"line":98,"column":57}},"54":{"start":{"line":101,"column":0},"end":{"line":104,"column":1}},"55":{"start":{"line":102,"column":2},"end":{"line":102,"column":43}},"56":{"start":{"line":103,"column":2},"end":{"line":103,"column":24}},"57":{"start":{"line":106,"column":0},"end":{"line":112,"column":1}},"58":{"start":{"line":108,"column":2},"end":{"line":108,"column":59}},"59":{"start":{"line":109,"column":2},"end":{"line":109,"column":65}},"60":{"start":{"line":110,"column":2},"end":{"line":110,"column":39}},"61":{"start":{"line":111,"column":2},"end":{"line":111,"column":24}},"62":{"start":{"line":114,"column":0},"end":{"line":123,"column":1}},"63":{"start":{"line":115,"column":2},"end":{"line":115,"column":43}},"64":{"start":{"line":116,"column":2},"end":{"line":116,"column":39}},"65":{"start":{"line":117,"column":2},"end":{"line":122,"column":4}},"66":{"start":{"line":118,"column":4},"end":{"line":118,"column":32}},"67":{"start":{"line":120,"column":4},"end":{"line":120,"column":26}},"68":{"start":{"line":125,"column":0},"end":{"line":143,"column":1}},"69":{"start":{"line":127,"column":2},"end":{"line":142,"column":5}},"70":{"start":{"line":129,"column":4},"end":{"line":141,"column":5}},"71":{"start":{"line":130,"column":6},"end":{"line":130,"column":37}},"72":{"start":{"line":132,"column":6},"end":{"line":132,"column":49}},"73":{"start":{"line":133,"column":6},"end":{"line":133,"column":43}},"74":{"start":{"line":134,"column":6},"end":{"line":136,"column":7}},"75":{"start":{"line":135,"column":8},"end":{"line":135,"column":76}},"76":{"start":{"line":139,"column":6},"end":{"line":139,"column":23}},"77":{"start":{"line":140,"column":6},"end":{"line":140,"column":107}},"78":{"start":{"line":140,"column":20},"end":{"line":140,"column":107}},"79":{"start":{"line":157,"column":0},"end":{"line":186,"column":1}},"80":{"start":{"line":160,"column":2},"end":{"line":160,"column":14}},"81":{"start":{"line":162,"column":2},"end":{"line":180,"column":3}},"82":{"start":{"line":163,"column":4},"end":{"line":163,"column":10}},"83":{"start":{"line":163,"column":11},"end":{"line":163,"column":17}},"84":{"start":{"line":163,"column":18},"end":{"line":163,"column":24}},"85":{"start":{"line":166,"column":4},"end":{"line":166,"column":30}},"86":{"start":{"line":167,"column":4},"end":{"line":167,"column":22}},"87":{"start":{"line":168,"column":4},"end":{"line":168,"column":24}},"88":{"start":{"line":169,"column":4},"end":{"line":169,"column":28}},"89":{"start":{"line":170,"column":4},"end":{"line":170,"column":34}},"90":{"start":{"line":172,"column":4},"end":{"line":179,"column":5}},"91":{"start":{"line":173,"column":14},"end":{"line":173,"column":20}},"92":{"start":{"line":173,"column":21},"end":{"line":173,"column":27}},"93":{"start":{"line":173,"column":28},"end":{"line":173,"column":34}},"94":{"start":{"line":173,"column":35},"end":{"line":173,"column":41}},"95":{"start":{"line":174,"column":14},"end":{"line":174,"column":20}},"96":{"start":{"line":174,"column":21},"end":{"line":174,"column":27}},"97":{"start":{"line":174,"column":28},"end":{"line":174,"column":34}},"98":{"start":{"line":174,"column":35},"end":{"line":174,"column":41}},"99":{"start":{"line":175,"column":14},"end":{"line":175,"column":20}},"100":{"start":{"line":175,"column":21},"end":{"line":175,"column":27}},"101":{"start":{"line":175,"column":28},"end":{"line":175,"column":34}},"102":{"start":{"line":175,"column":35},"end":{"line":175,"column":41}},"103":{"start":{"line":176,"column":14},"end":{"line":176,"column":20}},"104":{"start":{"line":176,"column":21},"end":{"line":176,"column":27}},"105":{"start":{"line":176,"column":28},"end":{"line":176,"column":34}},"106":{"start":{"line":176,"column":35},"end":{"line":176,"column":41}},"107":{"start":{"line":177,"column":14},"end":{"line":177,"column":20}},"108":{"start":{"line":177,"column":21},"end":{"line":177,"column":27}},"109":{"start":{"line":177,"column":28},"end":{"line":177,"column":34}},"110":{"start":{"line":177,"column":35},"end":{"line":177,"column":41}},"111":{"start":{"line":178,"column":14},"end":{"line":178,"column":20}},"112":{"start":{"line":178,"column":21},"end":{"line":178,"column":27}},"113":{"start":{"line":178,"column":28},"end":{"line":178,"column":34}},"114":{"start":{"line":178,"column":35},"end":{"line":178,"column":41}},"115":{"start":{"line":181,"column":2},"end":{"line":181,"column":24}},"116":{"start":{"line":182,"column":2},"end":{"line":182,"column":24}},"117":{"start":{"line":183,"column":2},"end":{"line":183,"column":24}},"118":{"start":{"line":185,"column":2},"end":{"line":185,"column":93}},"119":{"start":{"line":200,"column":0},"end":{"line":221,"column":1}},"120":{"start":{"line":202,"column":2},"end":{"line":202,"column":34}},"121":{"start":{"line":203,"column":2},"end":{"line":203,"column":55}},"122":{"start":{"line":204,"column":2},"end":{"line":204,"column":20}},"123":{"start":{"line":206,"column":2},"end":{"line":206,"column":20}},"124":{"start":{"line":207,"column":2},"end":{"line":207,"column":29}},"125":{"start":{"line":209,"column":2},"end":{"line":218,"column":3}},"126":{"start":{"line":210,"column":6},"end":{"line":210,"column":12}},"127":{"start":{"line":212,"column":6},"end":{"line":216,"column":7}},"128":{"start":{"line":213,"column":18},"end":{"line":213,"column":52}},"129":{"start":{"line":213,"column":53},"end":{"line":213,"column":59}},"130":{"start":{"line":214,"column":18},"end":{"line":214,"column":38}},"131":{"start":{"line":214,"column":39},"end":{"line":214,"column":45}},"132":{"start":{"line":215,"column":18},"end":{"line":215,"column":38}},"133":{"start":{"line":215,"column":39},"end":{"line":215,"column":45}},"134":{"start":{"line":217,"column":6},"end":{"line":217,"column":13}},"135":{"start":{"line":220,"column":2},"end":{"line":220,"column":19}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]},"2":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":4},"end":{"line":73,"column":4}},{"start":{"line":73,"column":4},"end":{"line":73,"column":4}}]},"3":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":8},"end":{"line":73,"column":33}},{"start":{"line":73,"column":37},"end":{"line":73,"column":58}}]},"4":{"line":98,"type":"cond-expr","locations":[{"start":{"line":98,"column":44},"end":{"line":98,"column":49}},{"start":{"line":98,"column":52},"end":{"line":98,"column":56}}]},"5":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":10},"end":{"line":98,"column":21}},{"start":{"line":98,"column":25},"end":{"line":98,"column":40}}]},"6":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":4},"end":{"line":129,"column":4}},{"start":{"line":129,"column":4},"end":{"line":129,"column":4}}]},"7":{"line":129,"type":"binary-expr","locations":[{"start":{"line":129,"column":8},"end":{"line":129,"column":12}},{"start":{"line":129,"column":16},"end":{"line":129,"column":42}}]},"8":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":6},"end":{"line":134,"column":6}},{"start":{"line":134,"column":6},"end":{"line":134,"column":6}}]},"9":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":6},"end":{"line":140,"column":6}},{"start":{"line":140,"column":6},"end":{"line":140,"column":6}}]},"10":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":2},"end":{"line":162,"column":2}},{"start":{"line":162,"column":2},"end":{"line":162,"column":2}}]},"11":{"line":172,"type":"switch","locations":[{"start":{"line":173,"column":6},"end":{"line":173,"column":41}},{"start":{"line":174,"column":6},"end":{"line":174,"column":41}},{"start":{"line":175,"column":6},"end":{"line":175,"column":41}},{"start":{"line":176,"column":6},"end":{"line":176,"column":41}},{"start":{"line":177,"column":6},"end":{"line":177,"column":41}},{"start":{"line":178,"column":6},"end":{"line":178,"column":41}}]},"12":{"line":207,"type":"cond-expr","locations":[{"start":{"line":207,"column":17},"end":{"line":207,"column":18}},{"start":{"line":207,"column":21},"end":{"line":207,"column":28}}]},"13":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":2},"end":{"line":209,"column":2}},{"start":{"line":209,"column":2},"end":{"line":209,"column":2}}]},"14":{"line":212,"type":"switch","locations":[{"start":{"line":213,"column":10},"end":{"line":213,"column":59}},{"start":{"line":214,"column":10},"end":{"line":214,"column":45}},{"start":{"line":215,"column":10},"end":{"line":215,"column":45}}]},"15":{"line":213,"type":"cond-expr","locations":[{"start":{"line":213,"column":45},"end":{"line":213,"column":46}},{"start":{"line":213,"column":49},"end":{"line":213,"column":50}}]}},"code":["'use strict';","","var path = require('path');","var fs = require('fs');","var request = require('request');","","var plugins_name = \"plugins\";","var package_json = \"../package.json\";","var plugin_version;","var github_version;","var npm_version;","","module.exports = {","  Utils: Utils","}","","function Utils() {","}","","Utils.loadConfig = function(storage_path, plugin_name, config_name) {","  ","  var plugin_storage_path = path.join(storage_path, plugins_name, plugin_name);","  var config_path = path.join(plugin_storage_path, config_name);","  ","  // Complain and exit if config_name doesn't exist yet","  if (!fs.existsSync(config_path)) {","      console.log(\"Couldn't find a %s file at %s.\", config_name, plugin_storage_path);","      process.exit(1);","  }","  ","  // Load up the configuration file","  var config;","  try {","    //console.log(\"Utils.loadConfig\");","    config = JSON.parse(fs.readFileSync(config_path));","  }","  catch (err) {","    console.log(\"There was a problem reading your %s file.\", config_name);","    console.log(\"Please try pasting your %s file here to validate it: http://jsonlint.com\", config_name);","    console.log(\"\");","    throw err;","  }","  return config;","}","","Utils.saveConfig = function(storage_path, plugin_name, config_name, data) {","","  var plugin_storage_path = path.join(storage_path, plugins_name, plugin_name);","  var config_path = path.join(plugin_storage_path, config_name); // \"config_test.json\");","","  try {","    //console.log(\"Utils.saveConfig %s\", data);","    fs.writeFileSync(config_path, JSON.stringify(data, null, 2));","  }","  catch (err) {","    console.log(\"There was a problem writing your %s file.\", config_name);","    throw err;","  }","}","","Utils.getHomeKitTypes = function() {","","  var uuid, items, service_type;","  var HomeKitTypes = {};","  ","  var types_path = path.join(__dirname, '../../hap-nodejs/lib/gen/HomeKitTypes.js');","  var lines = fs.readFileSync(types_path).toString().split('\\n');","  var line;","    ","  for(var k in lines) {","    line = lines[k];","    ","    if (line.includes(\"Service.\") && line.includes(\"UUID\")) {","      items = line.split(\".\");","      service_type = items[1];","      uuid = items[2].slice(8,44);","      //console.log(service_type);","      //console.log(uuid);","      HomeKitTypes[uuid] = service_type;","    }","  }","  return HomeKitTypes;","}","","Utils.getPluginVersion = function() {","  return plugin_version;","}","","Utils.get_npmVersion = function(pkg) {","  // Update version for the next call","  this.read_npmVersion(pkg, function(version) {","    npm_version = version;","  });","  return npm_version;","}","","Utils.n2b = function (number) {","  return (number == 0 || number == false) ? false : true;","}","","Utils.getGitHubVersion = function(pkg, github_url) {","  this.read_GitHubVersion(pkg, github_url);","  return github_version;","}","","Utils.readPluginVersion = function() {","  ","  var packageJSONPath = path.join(__dirname, package_json);","  var packageJSON = JSON.parse(fs.readFileSync(packageJSONPath));","  plugin_version = packageJSON.version;","  return plugin_version;","}","","Utils.read_npmVersion = function(pck, callback) {","  var exec = require('child_process').exec;","  var cmd = 'npm view '+pck+' version';","  exec(cmd, function(error, stdout, stderr) {","    npm_version = stdout.trim();","    //npm_version = stdout.replace(/(\\r\\n|\\n|\\r)/gm,\"\");","    callback(npm_version);","    //console.log(\"npm_version %s\", npm_version);"," });","}","","Utils.readGitHubVersion = function (pkg, url) {","  ","  request.get({url: url}, function(err, response, body) {","    ","    if (!err && response.statusCode == 200) {","      var package_json = body.trim();","      //console.log(\"package.json %s\", JSON.stringify(package));","      var packageJSON = JSON.parse(package_json);","      github_version = packageJSON.version;","      if (github_version > plugin_version) {","        console.log(\"%s a new version %s is avaiable\", pkg, github_version);","      }","    }","    else {","      console.log(err);","      if (response) console.log(\"statusCode: %s Message: %s\", response.statusCode, response.statusMessage);","    }","  });","}","","/**"," * Converts an HSV color value to RGB. Conversion formula"," * adapted from https://en.wikipedia.org/wiki/HSL_and_HSV"," * Assumes h, s, and v are contained in the set [0, 1] and"," * returns rgb (FFFFFF)"," *"," * @param   Number  h       The hue"," * @param   Number  s       The saturation"," * @param   Number  v       The value (brigthness)"," * @return  HexNumber       The RGB representation"," */"," ","Utils.hsv2rgb = function (h, s, v) {","","  //console.log(\"h: %s s: %s v: %s\", h, s, v);","  var r, g, b;","  ","  if( s == 0 ) {","    r = v; g = v; b = v;","  }","  else {","    var i = Math.floor(h * 6);","    var f = h * 6 - i;","    var p = v * (1 - s);","    var q = v * (1 - f * s);","    var t = v * (1 - (1 - f) * s);","","    switch(i % 6){","      case 0: r = v; g = t; b = p; break;","      case 1: r = q; g = v; b = p; break;","      case 2: r = p; g = v; b = t; break;","      case 3: r = p; g = q; b = v; break;","      case 4: r = t; g = p; b = v; break;","      case 5: r = v; g = p; b = q; break;","    }","  }","  r = Math.round(r*255);","  g = Math.round(g*255);","  b = Math.round(b*255);","  //console.log(\"r: %s g: %s b: %s\", r, g, b);","  return Number(0x1000000 + r*0x10000 + g*0x100 + b).toString(16).substring(1).toUpperCase();","}","","/**"," * Converts an RGB color value to HSV. Conversion formula"," * adapted from https://en.wikipedia.org/wiki/HSL_and_HSV"," * Assumes r, g, and b are contained in the set [0, 255] and"," * returns h, s, and v in the set [0, 1]."," *"," * @param   Number  r       The red color value"," * @param   Number  g       The green color value"," * @param   Number  b       The blue color value"," * @return  Array           The HSV representation"," */"," ","Utils.rgb2hsv = function(r, g, b) {","","  r = r/255, g = g/255, b = b/255;","  var max = Math.max(r, g, b), min = Math.min(r, g, b);","  var h, s, v = max;","","  var d = max - min;","  s = max == 0 ? 0 : d / max;","","  if(max == min){","      h = 0; // achromatic","  } else {","      switch(max){","          case r: h = (g - b) / d + (g < b ? 6 : 0); break;","          case g: h = (b - r) / d + 2; break;","          case b: h = (r - g) / d + 4; break;","      }","      h /= 6;","  }","","  return [h, s, v];","}",""],"l":{"3":1,"4":1,"5":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"17":1,"20":1,"22":0,"23":0,"26":0,"27":0,"28":0,"32":0,"33":0,"35":0,"38":0,"39":0,"40":0,"41":0,"43":0,"46":1,"48":0,"49":0,"51":0,"53":0,"56":0,"57":0,"61":1,"63":0,"64":0,"66":0,"67":0,"68":0,"70":0,"71":0,"73":0,"74":0,"75":0,"76":0,"79":0,"82":0,"85":1,"86":0,"89":1,"91":0,"92":0,"94":0,"97":1,"98":0,"101":1,"102":0,"103":0,"106":1,"108":0,"109":0,"110":0,"111":0,"114":1,"115":0,"116":0,"117":0,"118":0,"120":0,"125":1,"127":0,"129":0,"130":0,"132":0,"133":0,"134":0,"135":0,"139":0,"140":0,"157":1,"160":0,"162":0,"163":0,"166":0,"167":0,"168":0,"169":0,"170":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"181":0,"182":0,"183":0,"185":0,"200":1,"202":0,"203":0,"204":0,"206":0,"207":0,"209":0,"210":0,"212":0,"213":0,"214":0,"215":0,"217":0,"220":0}},"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/lib/controller.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/lib/controller.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":1,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":1,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":1,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":1,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":1,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":1,"202":0,"203":1,"204":0,"205":0,"206":1,"207":0,"208":1,"209":0,"210":1,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":1,"227":0,"228":0,"229":0,"230":0,"231":0,"232":1,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"Controller","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":28}}},"2":{"name":"(anonymous_2)","line":60,"loc":{"start":{"line":60,"column":36},"end":{"line":60,"column":60}}},"3":{"name":"(anonymous_3)","line":121,"loc":{"start":{"line":121,"column":34},"end":{"line":121,"column":58}}},"4":{"name":"(anonymous_4)","line":156,"loc":{"start":{"line":156,"column":42},"end":{"line":156,"column":62}}},"5":{"name":"(anonymous_5)","line":179,"loc":{"start":{"line":179,"column":39},"end":{"line":179,"column":54}}},"6":{"name":"(anonymous_6)","line":198,"loc":{"start":{"line":198,"column":37},"end":{"line":198,"column":61}}},"7":{"name":"(anonymous_7)","line":227,"loc":{"start":{"line":227,"column":42},"end":{"line":227,"column":62}}},"8":{"name":"(anonymous_8)","line":255,"loc":{"start":{"line":255,"column":47},"end":{"line":255,"column":67}}},"9":{"name":"(anonymous_9)","line":290,"loc":{"start":{"line":290,"column":38},"end":{"line":290,"column":62}}},"10":{"name":"(anonymous_10)","line":333,"loc":{"start":{"line":333,"column":35},"end":{"line":333,"column":63}}},"11":{"name":"(anonymous_11)","line":338,"loc":{"start":{"line":338,"column":29},"end":{"line":338,"column":41}}},"12":{"name":"(anonymous_12)","line":344,"loc":{"start":{"line":344,"column":27},"end":{"line":344,"column":70}}},"13":{"name":"(anonymous_13)","line":349,"loc":{"start":{"line":349,"column":27},"end":{"line":349,"column":77}}},"14":{"name":"(anonymous_14)","line":354,"loc":{"start":{"line":354,"column":32},"end":{"line":354,"column":57}}},"15":{"name":"(anonymous_15)","line":380,"loc":{"start":{"line":380,"column":32},"end":{"line":380,"column":48}}},"16":{"name":"(anonymous_16)","line":391,"loc":{"start":{"line":391,"column":32},"end":{"line":391,"column":56}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":52}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":40}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":55}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":56}},"6":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"7":{"start":{"line":12,"column":0},"end":{"line":14,"column":1}},"8":{"start":{"line":16,"column":0},"end":{"line":58,"column":1}},"9":{"start":{"line":18,"column":2},"end":{"line":18,"column":25}},"10":{"start":{"line":19,"column":2},"end":{"line":19,"column":24}},"11":{"start":{"line":20,"column":2},"end":{"line":20,"column":35}},"12":{"start":{"line":21,"column":2},"end":{"line":21,"column":41}},"13":{"start":{"line":22,"column":2},"end":{"line":22,"column":39}},"14":{"start":{"line":23,"column":2},"end":{"line":23,"column":19}},"15":{"start":{"line":24,"column":2},"end":{"line":24,"column":37}},"16":{"start":{"line":25,"column":2},"end":{"line":25,"column":27}},"17":{"start":{"line":26,"column":2},"end":{"line":26,"column":41}},"18":{"start":{"line":27,"column":2},"end":{"line":27,"column":27}},"19":{"start":{"line":29,"column":2},"end":{"line":29,"column":24}},"20":{"start":{"line":30,"column":2},"end":{"line":30,"column":28}},"21":{"start":{"line":32,"column":2},"end":{"line":45,"column":4}},"22":{"start":{"line":47,"column":2},"end":{"line":47,"column":37}},"23":{"start":{"line":49,"column":2},"end":{"line":57,"column":4}},"24":{"start":{"line":60,"column":0},"end":{"line":119,"column":1}},"25":{"start":{"line":62,"column":2},"end":{"line":62,"column":32}},"26":{"start":{"line":63,"column":2},"end":{"line":63,"column":43}},"27":{"start":{"line":64,"column":2},"end":{"line":64,"column":19}},"28":{"start":{"line":65,"column":2},"end":{"line":65,"column":19}},"29":{"start":{"line":68,"column":2},"end":{"line":72,"column":3}},"30":{"start":{"line":69,"column":4},"end":{"line":69,"column":46}},"31":{"start":{"line":71,"column":4},"end":{"line":71,"column":24}},"32":{"start":{"line":74,"column":2},"end":{"line":110,"column":3}},"33":{"start":{"line":75,"column":4},"end":{"line":75,"column":16}},"34":{"start":{"line":75,"column":17},"end":{"line":75,"column":45}},"35":{"start":{"line":77,"column":9},"end":{"line":110,"column":3}},"36":{"start":{"line":78,"column":4},"end":{"line":78,"column":16}},"37":{"start":{"line":78,"column":17},"end":{"line":78,"column":48}},"38":{"start":{"line":80,"column":9},"end":{"line":110,"column":3}},"39":{"start":{"line":81,"column":4},"end":{"line":81,"column":16}},"40":{"start":{"line":81,"column":17},"end":{"line":81,"column":53}},"41":{"start":{"line":83,"column":9},"end":{"line":110,"column":3}},"42":{"start":{"line":84,"column":4},"end":{"line":84,"column":16}},"43":{"start":{"line":84,"column":17},"end":{"line":84,"column":71}},"44":{"start":{"line":86,"column":9},"end":{"line":110,"column":3}},"45":{"start":{"line":87,"column":4},"end":{"line":87,"column":16}},"46":{"start":{"line":87,"column":17},"end":{"line":87,"column":66}},"47":{"start":{"line":90,"column":4},"end":{"line":90,"column":38}},"48":{"start":{"line":92,"column":4},"end":{"line":92,"column":52}},"49":{"start":{"line":95,"column":4},"end":{"line":95,"column":58}},"50":{"start":{"line":97,"column":4},"end":{"line":97,"column":69}},"51":{"start":{"line":99,"column":4},"end":{"line":99,"column":92}},"52":{"start":{"line":101,"column":4},"end":{"line":101,"column":48}},"53":{"start":{"line":103,"column":4},"end":{"line":103,"column":34}},"54":{"start":{"line":105,"column":4},"end":{"line":105,"column":41}},"55":{"start":{"line":106,"column":4},"end":{"line":106,"column":46}},"56":{"start":{"line":107,"column":4},"end":{"line":107,"column":80}},"57":{"start":{"line":109,"column":4},"end":{"line":109,"column":15}},"58":{"start":{"line":109,"column":16},"end":{"line":109,"column":100}},"59":{"start":{"line":112,"column":2},"end":{"line":116,"column":3}},"60":{"start":{"line":113,"column":4},"end":{"line":113,"column":51}},"61":{"start":{"line":114,"column":4},"end":{"line":114,"column":40}},"62":{"start":{"line":115,"column":4},"end":{"line":115,"column":119}},"63":{"start":{"line":118,"column":2},"end":{"line":118,"column":67}},"64":{"start":{"line":121,"column":0},"end":{"line":154,"column":1}},"65":{"start":{"line":123,"column":2},"end":{"line":123,"column":31}},"66":{"start":{"line":124,"column":2},"end":{"line":124,"column":43}},"67":{"start":{"line":125,"column":2},"end":{"line":125,"column":48}},"68":{"start":{"line":127,"column":2},"end":{"line":127,"column":19}},"69":{"start":{"line":129,"column":2},"end":{"line":151,"column":3}},"70":{"start":{"line":130,"column":4},"end":{"line":130,"column":16}},"71":{"start":{"line":130,"column":17},"end":{"line":130,"column":65}},"72":{"start":{"line":132,"column":9},"end":{"line":151,"column":3}},"73":{"start":{"line":133,"column":4},"end":{"line":133,"column":16}},"74":{"start":{"line":133,"column":17},"end":{"line":133,"column":53}},"75":{"start":{"line":135,"column":9},"end":{"line":151,"column":3}},"76":{"start":{"line":136,"column":4},"end":{"line":136,"column":16}},"77":{"start":{"line":136,"column":17},"end":{"line":136,"column":48}},"78":{"start":{"line":138,"column":9},"end":{"line":151,"column":3}},"79":{"start":{"line":139,"column":4},"end":{"line":139,"column":16}},"80":{"start":{"line":139,"column":17},"end":{"line":139,"column":71}},"81":{"start":{"line":141,"column":9},"end":{"line":151,"column":3}},"82":{"start":{"line":142,"column":4},"end":{"line":142,"column":16}},"83":{"start":{"line":142,"column":17},"end":{"line":142,"column":82}},"84":{"start":{"line":144,"column":9},"end":{"line":151,"column":3}},"85":{"start":{"line":145,"column":4},"end":{"line":145,"column":16}},"86":{"start":{"line":145,"column":17},"end":{"line":145,"column":120}},"87":{"start":{"line":148,"column":4},"end":{"line":148,"column":94}},"88":{"start":{"line":149,"column":4},"end":{"line":149,"column":117}},"89":{"start":{"line":150,"column":4},"end":{"line":150,"column":15}},"90":{"start":{"line":150,"column":16},"end":{"line":150,"column":127}},"91":{"start":{"line":153,"column":2},"end":{"line":153,"column":65}},"92":{"start":{"line":156,"column":0},"end":{"line":177,"column":1}},"93":{"start":{"line":160,"column":2},"end":{"line":160,"column":35}},"94":{"start":{"line":161,"column":2},"end":{"line":161,"column":28}},"95":{"start":{"line":163,"column":2},"end":{"line":166,"column":3}},"96":{"start":{"line":164,"column":4},"end":{"line":164,"column":89}},"97":{"start":{"line":165,"column":4},"end":{"line":165,"column":20}},"98":{"start":{"line":168,"column":2},"end":{"line":168,"column":29}},"99":{"start":{"line":170,"column":2},"end":{"line":170,"column":56}},"100":{"start":{"line":172,"column":2},"end":{"line":172,"column":44}},"101":{"start":{"line":173,"column":2},"end":{"line":173,"column":43}},"102":{"start":{"line":175,"column":2},"end":{"line":175,"column":39}},"103":{"start":{"line":176,"column":2},"end":{"line":176,"column":41}},"104":{"start":{"line":179,"column":0},"end":{"line":196,"column":1}},"105":{"start":{"line":181,"column":2},"end":{"line":181,"column":19}},"106":{"start":{"line":183,"column":2},"end":{"line":193,"column":3}},"107":{"start":{"line":184,"column":4},"end":{"line":184,"column":16}},"108":{"start":{"line":184,"column":17},"end":{"line":184,"column":65}},"109":{"start":{"line":187,"column":4},"end":{"line":187,"column":60}},"110":{"start":{"line":189,"column":4},"end":{"line":189,"column":96}},"111":{"start":{"line":190,"column":4},"end":{"line":190,"column":34}},"112":{"start":{"line":191,"column":4},"end":{"line":191,"column":38}},"113":{"start":{"line":192,"column":4},"end":{"line":192,"column":15}},"114":{"start":{"line":192,"column":16},"end":{"line":192,"column":65}},"115":{"start":{"line":195,"column":2},"end":{"line":195,"column":70}},"116":{"start":{"line":198,"column":0},"end":{"line":225,"column":1}},"117":{"start":{"line":200,"column":2},"end":{"line":200,"column":19}},"118":{"start":{"line":201,"column":2},"end":{"line":201,"column":32}},"119":{"start":{"line":202,"column":2},"end":{"line":202,"column":48}},"120":{"start":{"line":204,"column":2},"end":{"line":222,"column":3}},"121":{"start":{"line":205,"column":4},"end":{"line":205,"column":16}},"122":{"start":{"line":205,"column":17},"end":{"line":205,"column":65}},"123":{"start":{"line":207,"column":9},"end":{"line":222,"column":3}},"124":{"start":{"line":208,"column":4},"end":{"line":208,"column":16}},"125":{"start":{"line":208,"column":17},"end":{"line":208,"column":53}},"126":{"start":{"line":210,"column":9},"end":{"line":222,"column":3}},"127":{"start":{"line":211,"column":4},"end":{"line":211,"column":16}},"128":{"start":{"line":211,"column":17},"end":{"line":211,"column":102}},"129":{"start":{"line":213,"column":9},"end":{"line":222,"column":3}},"130":{"start":{"line":214,"column":4},"end":{"line":214,"column":16}},"131":{"start":{"line":214,"column":17},"end":{"line":214,"column":102}},"132":{"start":{"line":217,"column":4},"end":{"line":217,"column":92}},"133":{"start":{"line":218,"column":4},"end":{"line":218,"column":55}},"134":{"start":{"line":221,"column":4},"end":{"line":221,"column":15}},"135":{"start":{"line":221,"column":16},"end":{"line":221,"column":101}},"136":{"start":{"line":224,"column":2},"end":{"line":224,"column":65}},"137":{"start":{"line":227,"column":0},"end":{"line":253,"column":1}},"138":{"start":{"line":229,"column":2},"end":{"line":229,"column":19}},"139":{"start":{"line":230,"column":2},"end":{"line":230,"column":28}},"140":{"start":{"line":231,"column":2},"end":{"line":231,"column":38}},"141":{"start":{"line":234,"column":2},"end":{"line":250,"column":3}},"142":{"start":{"line":235,"column":4},"end":{"line":235,"column":16}},"143":{"start":{"line":235,"column":17},"end":{"line":235,"column":45}},"144":{"start":{"line":237,"column":9},"end":{"line":250,"column":3}},"145":{"start":{"line":238,"column":4},"end":{"line":238,"column":16}},"146":{"start":{"line":238,"column":17},"end":{"line":238,"column":50}},"147":{"start":{"line":240,"column":9},"end":{"line":250,"column":3}},"148":{"start":{"line":241,"column":4},"end":{"line":241,"column":16}},"149":{"start":{"line":241,"column":17},"end":{"line":241,"column":65}},"150":{"start":{"line":244,"column":4},"end":{"line":244,"column":63}},"151":{"start":{"line":246,"column":4},"end":{"line":246,"column":49}},"152":{"start":{"line":247,"column":4},"end":{"line":247,"column":61}},"153":{"start":{"line":249,"column":4},"end":{"line":249,"column":15}},"154":{"start":{"line":249,"column":16},"end":{"line":249,"column":86}},"155":{"start":{"line":252,"column":2},"end":{"line":252,"column":73}},"156":{"start":{"line":255,"column":0},"end":{"line":288,"column":1}},"157":{"start":{"line":257,"column":2},"end":{"line":257,"column":85}},"158":{"start":{"line":258,"column":2},"end":{"line":258,"column":14}},"159":{"start":{"line":259,"column":2},"end":{"line":259,"column":10}},"160":{"start":{"line":260,"column":2},"end":{"line":260,"column":28}},"161":{"start":{"line":262,"column":2},"end":{"line":285,"column":3}},"162":{"start":{"line":263,"column":4},"end":{"line":263,"column":16}},"163":{"start":{"line":263,"column":17},"end":{"line":263,"column":65}},"164":{"start":{"line":265,"column":4},"end":{"line":265,"column":86}},"165":{"start":{"line":267,"column":4},"end":{"line":270,"column":5}},"166":{"start":{"line":268,"column":6},"end":{"line":268,"column":85}},"167":{"start":{"line":269,"column":6},"end":{"line":269,"column":17}},"168":{"start":{"line":271,"column":4},"end":{"line":274,"column":5}},"169":{"start":{"line":272,"column":6},"end":{"line":272,"column":71}},"170":{"start":{"line":273,"column":6},"end":{"line":273,"column":17}},"171":{"start":{"line":275,"column":4},"end":{"line":278,"column":5}},"172":{"start":{"line":276,"column":6},"end":{"line":276,"column":85}},"173":{"start":{"line":277,"column":6},"end":{"line":277,"column":17}},"174":{"start":{"line":280,"column":4},"end":{"line":284,"column":5}},"175":{"start":{"line":281,"column":6},"end":{"line":281,"column":73}},"176":{"start":{"line":283,"column":6},"end":{"line":283,"column":88}},"177":{"start":{"line":287,"column":2},"end":{"line":287,"column":78}},"178":{"start":{"line":290,"column":0},"end":{"line":327,"column":1}},"179":{"start":{"line":292,"column":2},"end":{"line":292,"column":11}},"180":{"start":{"line":293,"column":2},"end":{"line":293,"column":23}},"181":{"start":{"line":294,"column":2},"end":{"line":294,"column":31}},"182":{"start":{"line":295,"column":2},"end":{"line":295,"column":19}},"183":{"start":{"line":297,"column":2},"end":{"line":301,"column":3}},"184":{"start":{"line":298,"column":4},"end":{"line":298,"column":30}},"185":{"start":{"line":300,"column":4},"end":{"line":300,"column":15}},"186":{"start":{"line":303,"column":2},"end":{"line":324,"column":3}},"187":{"start":{"line":304,"column":4},"end":{"line":304,"column":16}},"188":{"start":{"line":304,"column":17},"end":{"line":304,"column":60}},"189":{"start":{"line":307,"column":4},"end":{"line":322,"column":5}},"190":{"start":{"line":310,"column":8},"end":{"line":315,"column":9}},"191":{"start":{"line":312,"column":10},"end":{"line":312,"column":54}},"192":{"start":{"line":313,"column":10},"end":{"line":313,"column":57}},"193":{"start":{"line":314,"column":10},"end":{"line":314,"column":85}},"194":{"start":{"line":316,"column":6},"end":{"line":316,"column":12}},"195":{"start":{"line":319,"column":8},"end":{"line":319,"column":55}},"196":{"start":{"line":320,"column":8},"end":{"line":320,"column":58}},"197":{"start":{"line":321,"column":8},"end":{"line":321,"column":86}},"198":{"start":{"line":323,"column":4},"end":{"line":323,"column":15}},"199":{"start":{"line":323,"column":16},"end":{"line":323,"column":55}},"200":{"start":{"line":326,"column":2},"end":{"line":326,"column":97}},"201":{"start":{"line":333,"column":0},"end":{"line":336,"column":1}},"202":{"start":{"line":335,"column":2},"end":{"line":335,"column":43}},"203":{"start":{"line":338,"column":0},"end":{"line":342,"column":1}},"204":{"start":{"line":340,"column":2},"end":{"line":340,"column":37}},"205":{"start":{"line":341,"column":2},"end":{"line":341,"column":21}},"206":{"start":{"line":344,"column":0},"end":{"line":347,"column":1}},"207":{"start":{"line":346,"column":2},"end":{"line":346,"column":50}},"208":{"start":{"line":349,"column":0},"end":{"line":352,"column":1}},"209":{"start":{"line":351,"column":2},"end":{"line":351,"column":57}},"210":{"start":{"line":354,"column":0},"end":{"line":378,"column":1}},"211":{"start":{"line":356,"column":2},"end":{"line":356,"column":19}},"212":{"start":{"line":357,"column":2},"end":{"line":357,"column":18}},"213":{"start":{"line":359,"column":2},"end":{"line":359,"column":40}},"214":{"start":{"line":361,"column":2},"end":{"line":375,"column":3}},"215":{"start":{"line":362,"column":4},"end":{"line":362,"column":16}},"216":{"start":{"line":362,"column":17},"end":{"line":362,"column":42}},"217":{"start":{"line":363,"column":4},"end":{"line":363,"column":54}},"218":{"start":{"line":366,"column":4},"end":{"line":366,"column":148}},"219":{"start":{"line":368,"column":4},"end":{"line":374,"column":5}},"220":{"start":{"line":369,"column":6},"end":{"line":369,"column":18}},"221":{"start":{"line":369,"column":19},"end":{"line":369,"column":109}},"222":{"start":{"line":370,"column":6},"end":{"line":370,"column":56}},"223":{"start":{"line":373,"column":6},"end":{"line":373,"column":17}},"224":{"start":{"line":373,"column":18},"end":{"line":373,"column":71}},"225":{"start":{"line":377,"column":2},"end":{"line":377,"column":63}},"226":{"start":{"line":380,"column":0},"end":{"line":389,"column":1}},"227":{"start":{"line":382,"column":2},"end":{"line":382,"column":129}},"228":{"start":{"line":383,"column":2},"end":{"line":383,"column":115}},"229":{"start":{"line":384,"column":2},"end":{"line":384,"column":130}},"230":{"start":{"line":386,"column":2},"end":{"line":386,"column":121}},"231":{"start":{"line":388,"column":2},"end":{"line":388,"column":63}},"232":{"start":{"line":391,"column":0},"end":{"line":431,"column":1}},"233":{"start":{"line":393,"column":2},"end":{"line":393,"column":32}},"234":{"start":{"line":394,"column":2},"end":{"line":394,"column":48}},"235":{"start":{"line":395,"column":2},"end":{"line":395,"column":39}},"236":{"start":{"line":396,"column":2},"end":{"line":396,"column":34}},"237":{"start":{"line":398,"column":2},"end":{"line":398,"column":10}},"238":{"start":{"line":399,"column":2},"end":{"line":399,"column":19}},"239":{"start":{"line":402,"column":2},"end":{"line":409,"column":3}},"240":{"start":{"line":403,"column":4},"end":{"line":403,"column":24}},"241":{"start":{"line":404,"column":4},"end":{"line":408,"column":5}},"242":{"start":{"line":405,"column":6},"end":{"line":405,"column":18}},"243":{"start":{"line":405,"column":19},"end":{"line":405,"column":99}},"244":{"start":{"line":406,"column":6},"end":{"line":406,"column":56}},"245":{"start":{"line":407,"column":6},"end":{"line":407,"column":88}},"246":{"start":{"line":411,"column":2},"end":{"line":428,"column":3}},"247":{"start":{"line":412,"column":4},"end":{"line":412,"column":16}},"248":{"start":{"line":412,"column":17},"end":{"line":412,"column":60}},"249":{"start":{"line":414,"column":9},"end":{"line":428,"column":3}},"250":{"start":{"line":415,"column":4},"end":{"line":415,"column":16}},"251":{"start":{"line":415,"column":17},"end":{"line":415,"column":67}},"252":{"start":{"line":417,"column":9},"end":{"line":428,"column":3}},"253":{"start":{"line":418,"column":4},"end":{"line":418,"column":16}},"254":{"start":{"line":418,"column":17},"end":{"line":418,"column":66}},"255":{"start":{"line":420,"column":9},"end":{"line":428,"column":3}},"256":{"start":{"line":421,"column":4},"end":{"line":421,"column":16}},"257":{"start":{"line":421,"column":17},"end":{"line":421,"column":97}},"258":{"start":{"line":423,"column":9},"end":{"line":428,"column":3}},"259":{"start":{"line":424,"column":4},"end":{"line":424,"column":101}},"260":{"start":{"line":427,"column":4},"end":{"line":427,"column":15}},"261":{"start":{"line":427,"column":16},"end":{"line":427,"column":55}},"262":{"start":{"line":430,"column":2},"end":{"line":430,"column":84}}},"branchMap":{"1":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":2},"end":{"line":68,"column":2}},{"start":{"line":68,"column":2},"end":{"line":68,"column":2}}]},"2":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"3":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":9},"end":{"line":77,"column":9}},{"start":{"line":77,"column":9},"end":{"line":77,"column":9}}]},"4":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":9},"end":{"line":80,"column":9}},{"start":{"line":80,"column":9},"end":{"line":80,"column":9}}]},"5":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":9},"end":{"line":83,"column":9}},{"start":{"line":83,"column":9},"end":{"line":83,"column":9}}]},"6":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":9},"end":{"line":86,"column":9}},{"start":{"line":86,"column":9},"end":{"line":86,"column":9}}]},"7":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":2},"end":{"line":112,"column":2}},{"start":{"line":112,"column":2},"end":{"line":112,"column":2}}]},"8":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":2},"end":{"line":129,"column":2}},{"start":{"line":129,"column":2},"end":{"line":129,"column":2}}]},"9":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":9},"end":{"line":132,"column":9}},{"start":{"line":132,"column":9},"end":{"line":132,"column":9}}]},"10":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":9},"end":{"line":135,"column":9}},{"start":{"line":135,"column":9},"end":{"line":135,"column":9}}]},"11":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":9},"end":{"line":138,"column":9}},{"start":{"line":138,"column":9},"end":{"line":138,"column":9}}]},"12":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":9},"end":{"line":141,"column":9}},{"start":{"line":141,"column":9},"end":{"line":141,"column":9}}]},"13":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":9},"end":{"line":144,"column":9}},{"start":{"line":144,"column":9},"end":{"line":144,"column":9}}]},"14":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":2},"end":{"line":163,"column":2}},{"start":{"line":163,"column":2},"end":{"line":163,"column":2}}]},"15":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":2},"end":{"line":183,"column":2}},{"start":{"line":183,"column":2},"end":{"line":183,"column":2}}]},"16":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":2},"end":{"line":204,"column":2}},{"start":{"line":204,"column":2},"end":{"line":204,"column":2}}]},"17":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":9},"end":{"line":207,"column":9}},{"start":{"line":207,"column":9},"end":{"line":207,"column":9}}]},"18":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":9},"end":{"line":210,"column":9}},{"start":{"line":210,"column":9},"end":{"line":210,"column":9}}]},"19":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":9},"end":{"line":213,"column":9}},{"start":{"line":213,"column":9},"end":{"line":213,"column":9}}]},"20":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":2},"end":{"line":234,"column":2}},{"start":{"line":234,"column":2},"end":{"line":234,"column":2}}]},"21":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":9},"end":{"line":237,"column":9}},{"start":{"line":237,"column":9},"end":{"line":237,"column":9}}]},"22":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":9},"end":{"line":240,"column":9}},{"start":{"line":240,"column":9},"end":{"line":240,"column":9}}]},"23":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":2},"end":{"line":262,"column":2}},{"start":{"line":262,"column":2},"end":{"line":262,"column":2}}]},"24":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":4},"end":{"line":267,"column":4}},{"start":{"line":267,"column":4},"end":{"line":267,"column":4}}]},"25":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":4},"end":{"line":271,"column":4}},{"start":{"line":271,"column":4},"end":{"line":271,"column":4}}]},"26":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":4},"end":{"line":275,"column":4}},{"start":{"line":275,"column":4},"end":{"line":275,"column":4}}]},"27":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":4},"end":{"line":280,"column":4}},{"start":{"line":280,"column":4},"end":{"line":280,"column":4}}]},"28":{"line":297,"type":"if","locations":[{"start":{"line":297,"column":2},"end":{"line":297,"column":2}},{"start":{"line":297,"column":2},"end":{"line":297,"column":2}}]},"29":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":2},"end":{"line":303,"column":2}},{"start":{"line":303,"column":2},"end":{"line":303,"column":2}}]},"30":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":6},"end":{"line":303,"column":18}},{"start":{"line":303,"column":22},"end":{"line":303,"column":68}}]},"31":{"line":307,"type":"switch","locations":[{"start":{"line":308,"column":6},"end":{"line":308,"column":15}},{"start":{"line":309,"column":6},"end":{"line":316,"column":12}},{"start":{"line":318,"column":6},"end":{"line":321,"column":86}}]},"32":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":2},"end":{"line":361,"column":2}},{"start":{"line":361,"column":2},"end":{"line":361,"column":2}}]},"33":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":4},"end":{"line":368,"column":4}},{"start":{"line":368,"column":4},"end":{"line":368,"column":4}}]},"34":{"line":402,"type":"if","locations":[{"start":{"line":402,"column":2},"end":{"line":402,"column":2}},{"start":{"line":402,"column":2},"end":{"line":402,"column":2}}]},"35":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":4},"end":{"line":404,"column":4}},{"start":{"line":404,"column":4},"end":{"line":404,"column":4}}]},"36":{"line":411,"type":"if","locations":[{"start":{"line":411,"column":2},"end":{"line":411,"column":2}},{"start":{"line":411,"column":2},"end":{"line":411,"column":2}}]},"37":{"line":414,"type":"if","locations":[{"start":{"line":414,"column":9},"end":{"line":414,"column":9}},{"start":{"line":414,"column":9},"end":{"line":414,"column":9}}]},"38":{"line":417,"type":"if","locations":[{"start":{"line":417,"column":9},"end":{"line":417,"column":9}},{"start":{"line":417,"column":9},"end":{"line":417,"column":9}}]},"39":{"line":417,"type":"binary-expr","locations":[{"start":{"line":417,"column":13},"end":{"line":417,"column":56}},{"start":{"line":417,"column":60},"end":{"line":417,"column":88}}]},"40":{"line":420,"type":"if","locations":[{"start":{"line":420,"column":9},"end":{"line":420,"column":9}},{"start":{"line":420,"column":9},"end":{"line":420,"column":9}}]},"41":{"line":423,"type":"if","locations":[{"start":{"line":423,"column":9},"end":{"line":423,"column":9}},{"start":{"line":423,"column":9},"end":{"line":423,"column":9}}]}},"code":["'use strict';","","var Utils = require('./utils.js').Utils;","var Accessory = require('./accessory.js').Accessory;","var Model = require('./model.js').Model;","","var config, plugin_name, plugin_version, platform_name;","var api, HapAccessory, Service, Characteristic, UUIDGen;","","var accessory_parameters;","","module.exports = {","  Controller: Controller","}","","function Controller(params) {","","  config = params.config;","  this.log = params.log;","  plugin_name = params.plugin_name;","  plugin_version = params.plugin_version;","  platform_name = params.platform_name; ","  api = params.api; ","  HapAccessory = params.HapAccessory;","  Service = params.Service;","  Characteristic = params.Characteristic;","  UUIDGen = params.UUIDGen;","","  this.accessories = {};","  this.hap_accessories = {};","  ","  var model_parameters = {","    \"config\": config,","    \"log\": this.log,","    \"plugin_name\": plugin_name,","    \"Characteristic\": Characteristic,","    \"addAccessory\": this.addAccessory.bind(this),","    \"addService\": this.addService.bind(this),","    \"removeAccessory\": this.removeAccessory.bind(this),","    \"removeService\": this.removeService.bind(this),","    \"setValue\": this.setValue.bind(this),","    \"getAccessories\": this.getAccessories.bind(this),","    \"updateReachability\": this.updateReachability.bind(this),","    \"setAccessoryInformation\": this.setAccessoryInformation.bind(this)","  };","  ","  this.createModel(model_parameters);","  ","  accessory_parameters = {","    \"log\": this.log,","    \"platform_name\": platform_name,","    \"Service\": Service,","    \"Characteristic\": Characteristic,","    \"get\": this.get.bind(this),","    \"set\": this.set.bind(this),","    \"identify\": this.identify.bind(this)","  };","}","","Controller.prototype.addAccessory = function(api_accessory) {","","  var name = api_accessory.name;","  var service_type = api_accessory.service;","  var service_name;","  var ack, message;","  ","  // backwards compatible","  if (typeof api_accessory.service_name !== \"undefined\" ) {","    service_name = api_accessory.service_name;","  } else {","    service_name = name;  ","  }","","  if (typeof name === \"undefined\") {","    ack = false; message = \"name undefined.\";","    ","  } else if (typeof service_type === \"undefined\") {","    ack = false; message = \"service undefined.\"; ","      ","  } else if (typeof service_name === \"undefined\") {","    ack = false; message = \"service_name undefined.\";","    ","  } else if (typeof Service[service_type] === \"undefined\") {","    ack = false; message = \"service '\" + service_type + \"' undefined.\";","    ","  } else if (typeof this.accessories[name] !== \"undefined\") {","    ack = false; message = \"name '\" + name + \"' is already used.\";","    ","  } else {","    var uuid = UUIDGen.generate(name);","    ","    var newAccessory = new HapAccessory(name, uuid);","    //this.log.debug(\"Controller.addAccessory UUID = %s\", newAccessory.UUID);","    ","    var i_accessory = new Accessory(accessory_parameters);","    ","    i_accessory.addService(newAccessory, service_name, service_type);","    ","    i_accessory.configureAccessory(newAccessory, api_accessory, service_name, service_type);","    ","    i_accessory.configureIdentity(newAccessory);","    ","    newAccessory.reachable = true;","    ","    this.accessories[name] = i_accessory;","    this.hap_accessories[name] = newAccessory;","    api.registerPlatformAccessories(plugin_name, platform_name, [newAccessory]);","    ","    ack = true; message = \"accessory '\" + name + \"', service_name '\" + service_name + \"' is added.\";","  }","  ","  if (ack) {","    var now = new Date().toISOString().slice(0,16);","    var plugin_v = \"v\" + plugin_version;","    this.setAccessoryInformation({\"name\":name,\"manufacturer\":plugin_name,\"model\": plugin_v,\"serialnumber\":now}, false);","  }","  ","  return {\"topic\": \"addAccessory\", \"ack\": ack, \"message\": message};","}","","Controller.prototype.addService = function(api_accessory) {","","  var name= api_accessory.name;","  var service_type = api_accessory.service;","  var service_name = api_accessory.service_name;","  ","  var ack, message;","  ","  if (typeof this.hap_accessories[name] === \"undefined\") {","    ack = false; message = \"accessory '\" + name + \"' undefined.\";","    ","  } else if (typeof service_name === \"undefined\") {","    ack = false; message = \"service_name undefined.\";","    ","  } else if (typeof service_type === \"undefined\") {","    ack = false; message = \"service undefined.\";","    ","  } else if (typeof Service[service_type] === \"undefined\") {","    ack = false; message = \"service '\" + service_type + \"' undefined.\";","  ","  } else if (this.accessories[name].service_namesList.indexOf(service_name) > -1) {","    ack = false; message = \"service_name '\" + service_name + \"' is already used.\";","  ","  } else if (typeof this.hap_accessories[name].context.service_types === \"undefined\") {","    ack = false; message = \"Please remove the accessory '\" + name + \"'and add it again before adding multiple services\";","  ","  } else {","    this.accessories[name].addService(this.hap_accessories[name], service_name, service_type);          ","    this.accessories[name].configureAccessory(this.hap_accessories[name], api_accessory, service_name, service_type);","    ack = true; message = \"name '\" + name + \"', service_name '\" + service_name + \"', service '\" + service_type + \"' is added.\";","  }","  ","  return {\"topic\": \"addService\", \"ack\": ack, \"message\": message};","}","","Controller.prototype.configureAccessory = function(accessory) {","","  //this.log.debug(\"Controller.configureAccessory %s\", JSON.stringify(accessory, null, 2));","  ","  var name = accessory.displayName;","  var uuid = accessory.UUID;","  ","  if (this.accessories[name]) {","    this.log.error(\"Controller.configureAccessory %s UUID %s already used.\", name, uuid);","    process.exit(1);","  }","  ","  accessory.reachable = true;","    ","  var i_accessory = new Accessory(accessory_parameters);","  ","  i_accessory.configureAccessory(accessory);","  i_accessory.configureIdentity(accessory);","","  this.accessories[name] = i_accessory;","  this.hap_accessories[name] = accessory;","}","","Controller.prototype.removeAccessory = function(name) {","","  var ack, message;","  ","  if (typeof(this.accessories[name]) === \"undefined\") {","    ack = false; message = \"accessory '\" + name + \"' not found.\";","    ","  } else {","    this.log.debug(\"Controller.removeAccessory '%s'\", name);","    ","    api.unregisterPlatformAccessories(plugin_name, platform_name, [this.hap_accessories[name]]);","    delete this.accessories[name];","    delete this.hap_accessories[name];","    ack = true; message = \"accessory '\" + name + \"' is removed.\";","  }","  ","  return {\"topic\": \"removeAccessory\", \"ack\": ack, \"message\": message};","}","","Controller.prototype.removeService = function(api_accessory) {","","  var ack, message;","  var name = api_accessory.name;","  var service_name = api_accessory.service_name;","  ","  if (typeof(this.accessories[name]) === \"undefined\") {","    ack = false; message = \"accessory '\" + name + \"' not found.\";","    ","  } else if (typeof service_name === \"undefined\") {","    ack = false; message = \"service_name undefined.\";","  ","  } else if (this.accessories[name].service_namesList.indexOf(service_name) < 0) {","    ack = false; message = \"accessory '\" + name + \"', service_name '\" + service_name + \"' undefined.\";","  ","  } else if (typeof this.hap_accessories[name].getServiceByUUIDAndSubType(service_name, service_name) === \"undefined\") {   ","    ack = false; message = \"accessory '\" + name + \"', service_name '\" + service_name + \"' not found.\";","  ","  } else {","    this.hap_accessories[name].removeService(this.accessories[name].services[service_name]);","    this.accessories[name].removeService(service_name);","    ","    //this.log.debug(\"Controller.removeService '%s' '%s'\", name, service_name);    ","    ack = true; message = \"accessory '\" + name + \"' service_name '\" + service_name + \"' is removed.\";","  }","","  return {\"topic\": \"addService\", \"ack\": ack, \"message\": message};  ","}","","Controller.prototype.updateReachability = function(accessory) {","  ","  var ack, message;","  var name = accessory.name;","  var reachable = accessory.reachable;","  //this.log.debug(\"Controller.updateReachability %s %s\", name, reachable);","    ","  if (typeof name === \"undefined\") {","    ack = false; message = \"name undefined.\";","    ","  } else if (typeof reachable === \"undefined\") {","    ack = false; message = \"reachable undefined.\";","    ","  } else if (typeof(this.accessories[name]) === \"undefined\") {","    ack = false; message = \"accessory '\" + name + \"' not found.\";","  ","  } else {","    this.log.debug(\"Controller.updateReachability '%s'\", name);","    ","    this.accessories[name].reachable = reachable;","    this.hap_accessories[name].updateReachability(reachable);","    ","    ack = true; message = \"accessory '\" + name + \"' reachability set to \" + reachable;","  }","","  return {\"topic\": \"updateReachability\", \"ack\": ack, \"message\": message};","}","","Controller.prototype.setAccessoryInformation = function(accessory) {","","  this.log.debug(\"Controller.setAccessoryInformation %s\", JSON.stringify(accessory));","  var message;","  var ack;","  var name = accessory.name;","  ","  if (typeof this.hap_accessories[name] === \"undefined\") {","    ack = false; message = \"accessory '\" + name + \"' undefined.\";","  } else {","    var service = this.hap_accessories[name].getService(Service.AccessoryInformation);","    ","    if (typeof accessory.manufacturer !== \"undefined\") {","      service.setCharacteristic(Characteristic.Manufacturer, accessory.manufacturer);","      ack = true;","    }","    if (typeof accessory.model !== \"undefined\") {","      service.setCharacteristic(Characteristic.Model, accessory.model);","      ack = true;","    }","    if (typeof accessory.serialnumber !== \"undefined\") {","      service.setCharacteristic(Characteristic.SerialNumber, accessory.serialnumber);","      ack = true;","    }","    ","    if (ack) {","      message = \"accessory '\" + name + \"', accessoryinformation is set.\";","    } else {","      message = \"accessory '\" + name + \"', accessoryinforrmation properties undefined.\";","    }   ","  }","  ","  return {\"topic\": \"setAccessoryInformation\", \"ack\": ack, \"message\": message};","}","","Controller.prototype.getAccessories = function(api_accessory) {","","  var name;","  var accessories = {};","  var service, characteristics;","  var ack, message;","  ","  if (typeof api_accessory.name !== \"undefined\") {","    name = api_accessory.name;","  } else {","    name = \"*\";","  }","  ","  if (name !== \"*\" && typeof(this.accessories[name]) === \"undefined\") {","    ack = false; message = \"name '\" + name + \"' undefined.\";","    ","  } else {","    switch (name) {","      case \"*\":","      case \"all\":","        for (var k in this.accessories) {","          //this.log.debug(\"Controller.getAccessories %s\", JSON.stringify(this.accessories[k], null, 2));","          service = this.accessories[k].service_types;","          characteristics =  this.accessories[k].i_value;","          accessories[k] = {\"services\": service, \"characteristics\": characteristics};","        }","      break;","      ","      default:","        service = this.accessories[name].service_types;","        characteristics =  this.accessories[name].i_value;","        accessories[name] = {\"services\": service, \"characteristics\": characteristics};","    }","    ack = true; message = \"name '\" + name + \"' valid.\";","  }","  ","  return {\"topic\": \"getAccessories\", \"ack\": ack, \"message\": message, \"accessories\": accessories};","}","","//","// Model functions","//","","Controller.prototype.createModel = function (model_parameters) {","","  this.Model = new Model(model_parameters);","}","","Controller.prototype.start = function () {"," ","  this.log.debug(\"Controller.start\");","  this.Model.start();","}","","Controller.prototype.get = function (name, service_name, c, callback) {","","  this.Model.get(name, service_name, c, callback);","}","","Controller.prototype.set = function (name, service_name, c, value, callback) {","","  this.Model.set(name, service_name, c, value, callback);","}","","Controller.prototype.setValue = function (api_accessory) {","","  var ack, message;","  var result = {};","  ","  result = this.validate(api_accessory);","  ","  if (!result.isValid) {","    ack = false; message = result.message;","    this.log.debug(\"Controller.setValue %s\", message);","  ","  } else {","    result = this.accessories[api_accessory.name].save_and_setValue(platform_name, result.service_name, api_accessory.characteristic, result.value);","    ","    if (!result.isValid) {","      ack = false; message = \"name '\" + api_accessory.name + \"', value '\" + result.value + \"' outside range\";","      this.log.debug(\"Controller.setValue %s\", message);","          ","    } else {","      ack = true; message = \"name '\" + api_accessory.name + \"' valid.\";","    }","  }","  //this.log.debug(\"Controller.setValue %s %s\", ack, message);","  return {\"topic\": \"setValue\", \"ack\": ack, \"message\": message};","}","","Controller.prototype.identify = function (name) {","","  var manufacturer = this.hap_accessories[name].getService(Service.AccessoryInformation).getCharacteristic(\"Manufacturer\").value;","  var model = this.hap_accessories[name].getService(Service.AccessoryInformation).getCharacteristic(\"Model\").value;","  var serialnumber = this.hap_accessories[name].getService(Service.AccessoryInformation).getCharacteristic(\"Serial Number\").value;","","  this.log(\"identify name '%s' manufacturer '%s' model '%s' serialnumber '%s'\", name, manufacturer, model, serialnumber);","    ","  this.Model.identify(name, manufacturer, model, serialnumber);","}","","Controller.prototype.validate = function(api_accessory) {","","  var name = api_accessory.name;","  var service_name = api_accessory.service_name;","  var c = api_accessory.characteristic;","  var value = api_accessory.value;","  ","  var ack;","  var message = \"\";","  ","  // backwards compatible","  if (typeof service_name === \"undefined\") {","    service_name = name;","    if (typeof this.accessories[name].services[service_name] === \"undefined\") {","      ack = false; message = \"name '\" + name + \"', service_name '\" + service_name + \"' undefined.\";","      this.log.debug(\"Controller.validate %s\", message);","      return {isValid: ack, message: message, service_name: service_name, value: value};","    }","  }","  ","  if(typeof(this.accessories[name]) === \"undefined\") {","    ack = false; message = \"name '\" + name + \"' undefined.\";","    ","  } else if (typeof(Characteristic[c]) !== \"function\") {","    ack = false; message = \"characteristic '\" + c + \"' undefined.\";","    ","  } else if (typeof(api_accessory.value) === \"undefined\" || api_accessory.value === null) {","    ack = false; message = \"name '\" + name + \"' value undefined.\";","    ","  } else if (typeof this.accessories[name].services[service_name] == \"undefined\") {","    ack = false; message = \"name '\" + name + \"', service_name '\" + service_name + \"' undefined.\";","    ","  } else if (typeof(this.accessories[name].services[service_name].getCharacteristic(Characteristic[c])) === \"undefined\") {","    message = \"name '\" + name + \"' service_name '\" + service_name + \"' characteristic do not match.\";","    ","  } else {","    ack = true; message = \"name '\" + name + \"' valid.\";","  }","  ","  return {isValid: ack, message: message, service_name: service_name, value: value};","}",""],"l":{"3":1,"4":1,"5":1,"7":1,"8":1,"10":1,"12":1,"16":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"30":0,"32":0,"47":0,"49":0,"60":1,"62":0,"63":0,"64":0,"65":0,"68":0,"69":0,"71":0,"74":0,"75":0,"77":0,"78":0,"80":0,"81":0,"83":0,"84":0,"86":0,"87":0,"90":0,"92":0,"95":0,"97":0,"99":0,"101":0,"103":0,"105":0,"106":0,"107":0,"109":0,"112":0,"113":0,"114":0,"115":0,"118":0,"121":1,"123":0,"124":0,"125":0,"127":0,"129":0,"130":0,"132":0,"133":0,"135":0,"136":0,"138":0,"139":0,"141":0,"142":0,"144":0,"145":0,"148":0,"149":0,"150":0,"153":0,"156":1,"160":0,"161":0,"163":0,"164":0,"165":0,"168":0,"170":0,"172":0,"173":0,"175":0,"176":0,"179":1,"181":0,"183":0,"184":0,"187":0,"189":0,"190":0,"191":0,"192":0,"195":0,"198":1,"200":0,"201":0,"202":0,"204":0,"205":0,"207":0,"208":0,"210":0,"211":0,"213":0,"214":0,"217":0,"218":0,"221":0,"224":0,"227":1,"229":0,"230":0,"231":0,"234":0,"235":0,"237":0,"238":0,"240":0,"241":0,"244":0,"246":0,"247":0,"249":0,"252":0,"255":1,"257":0,"258":0,"259":0,"260":0,"262":0,"263":0,"265":0,"267":0,"268":0,"269":0,"271":0,"272":0,"273":0,"275":0,"276":0,"277":0,"280":0,"281":0,"283":0,"287":0,"290":1,"292":0,"293":0,"294":0,"295":0,"297":0,"298":0,"300":0,"303":0,"304":0,"307":0,"310":0,"312":0,"313":0,"314":0,"316":0,"319":0,"320":0,"321":0,"323":0,"326":0,"333":1,"335":0,"338":1,"340":0,"341":0,"344":1,"346":0,"349":1,"351":0,"354":1,"356":0,"357":0,"359":0,"361":0,"362":0,"363":0,"366":0,"368":0,"369":0,"370":0,"373":0,"377":0,"380":1,"382":0,"383":0,"384":0,"386":0,"388":0,"391":1,"393":0,"394":0,"395":0,"396":0,"398":0,"399":0,"402":0,"403":0,"404":0,"405":0,"406":0,"407":0,"411":0,"412":0,"414":0,"415":0,"417":0,"418":0,"420":0,"421":0,"423":0,"424":0,"427":0,"430":0}},"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/lib/accessory.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/lib/accessory.js","s":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0,"103":0,"104":1,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":1,"113":0,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":1,"153":0,"154":0,"155":1,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":1,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":1,"186":0,"187":0,"188":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0,0],"28":[0,0,0,0,0,0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0,0,0,0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":23},"end":{"line":7,"column":38}}},"2":{"name":"Accessory","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":27}}},"3":{"name":"(anonymous_3)","line":46,"loc":{"start":{"line":46,"column":33},"end":{"line":46,"column":81}}},"4":{"name":"(anonymous_4)","line":58,"loc":{"start":{"line":58,"column":36},"end":{"line":58,"column":59}}},"5":{"name":"(anonymous_5)","line":72,"loc":{"start":{"line":72,"column":38},"end":{"line":72,"column":61}}},"6":{"name":"(anonymous_6)","line":80,"loc":{"start":{"line":80,"column":41},"end":{"line":80,"column":104}}},"7":{"name":"(anonymous_7)","line":131,"loc":{"start":{"line":131,"column":47},"end":{"line":131,"column":96}}},"8":{"name":"(anonymous_8)","line":154,"loc":{"start":{"line":154,"column":55},"end":{"line":154,"column":104}}},"9":{"name":"(anonymous_9)","line":177,"loc":{"start":{"line":177,"column":31},"end":{"line":177,"column":52}}},"10":{"name":"(anonymous_10)","line":182,"loc":{"start":{"line":182,"column":15},"end":{"line":182,"column":43}}},"11":{"name":"(anonymous_11)","line":185,"loc":{"start":{"line":185,"column":17},"end":{"line":185,"column":52}}},"12":{"name":"(anonymous_12)","line":189,"loc":{"start":{"line":189,"column":31},"end":{"line":189,"column":67}}},"13":{"name":"(anonymous_13)","line":200,"loc":{"start":{"line":200,"column":39},"end":{"line":200,"column":50}}},"14":{"name":"(anonymous_14)","line":216,"loc":{"start":{"line":216,"column":40},"end":{"line":216,"column":60}}},"15":{"name":"(anonymous_15)","line":218,"loc":{"start":{"line":218,"column":27},"end":{"line":218,"column":54}}},"16":{"name":"(anonymous_16)","line":225,"loc":{"start":{"line":225,"column":26},"end":{"line":225,"column":72}}},"17":{"name":"(anonymous_17)","line":252,"loc":{"start":{"line":252,"column":26},"end":{"line":252,"column":79}}},"18":{"name":"(anonymous_18)","line":284,"loc":{"start":{"line":284,"column":40},"end":{"line":284,"column":51}}},"19":{"name":"(anonymous_19)","line":299,"loc":{"start":{"line":299,"column":31},"end":{"line":299,"column":59}}},"20":{"name":"(anonymous_20)","line":309,"loc":{"start":{"line":309,"column":40},"end":{"line":309,"column":83}}},"21":{"name":"(anonymous_21)","line":339,"loc":{"start":{"line":339,"column":33},"end":{"line":339,"column":66}}},"22":{"name":"(anonymous_22)","line":380,"loc":{"start":{"line":380,"column":31},"end":{"line":380,"column":66}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":63}},"3":{"start":{"line":7,"column":0},"end":{"line":9,"column":1}},"4":{"start":{"line":8,"column":4},"end":{"line":8,"column":59}},"5":{"start":{"line":11,"column":0},"end":{"line":13,"column":1}},"6":{"start":{"line":15,"column":0},"end":{"line":40,"column":1}},"7":{"start":{"line":17,"column":2},"end":{"line":17,"column":24}},"8":{"start":{"line":18,"column":2},"end":{"line":18,"column":27}},"9":{"start":{"line":19,"column":2},"end":{"line":19,"column":41}},"10":{"start":{"line":20,"column":2},"end":{"line":20,"column":39}},"11":{"start":{"line":21,"column":2},"end":{"line":21,"column":19}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":19}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":29}},"14":{"start":{"line":25,"column":2},"end":{"line":25,"column":12}},"15":{"start":{"line":27,"column":2},"end":{"line":27,"column":20}},"16":{"start":{"line":28,"column":2},"end":{"line":28,"column":20}},"17":{"start":{"line":29,"column":2},"end":{"line":29,"column":20}},"18":{"start":{"line":31,"column":2},"end":{"line":31,"column":24}},"19":{"start":{"line":33,"column":2},"end":{"line":33,"column":21}},"20":{"start":{"line":34,"column":2},"end":{"line":34,"column":26}},"21":{"start":{"line":35,"column":2},"end":{"line":35,"column":26}},"22":{"start":{"line":36,"column":2},"end":{"line":36,"column":30}},"23":{"start":{"line":38,"column":2},"end":{"line":38,"column":19}},"24":{"start":{"line":39,"column":2},"end":{"line":39,"column":14}},"25":{"start":{"line":46,"column":0},"end":{"line":56,"column":1}},"26":{"start":{"line":48,"column":2},"end":{"line":48,"column":74}},"27":{"start":{"line":50,"column":2},"end":{"line":50,"column":50}},"28":{"start":{"line":52,"column":2},"end":{"line":54,"column":3}},"29":{"start":{"line":53,"column":4},"end":{"line":53,"column":41}},"30":{"start":{"line":55,"column":2},"end":{"line":55,"column":63}},"31":{"start":{"line":58,"column":0},"end":{"line":70,"column":1}},"32":{"start":{"line":60,"column":2},"end":{"line":60,"column":75}},"33":{"start":{"line":62,"column":2},"end":{"line":62,"column":37}},"34":{"start":{"line":63,"column":2},"end":{"line":63,"column":42}},"35":{"start":{"line":64,"column":2},"end":{"line":64,"column":42}},"36":{"start":{"line":66,"column":2},"end":{"line":66,"column":36}},"37":{"start":{"line":67,"column":2},"end":{"line":67,"column":36}},"38":{"start":{"line":68,"column":2},"end":{"line":68,"column":36}},"39":{"start":{"line":69,"column":2},"end":{"line":69,"column":43}},"40":{"start":{"line":72,"column":0},"end":{"line":78,"column":1}},"41":{"start":{"line":74,"column":2},"end":{"line":74,"column":34}},"42":{"start":{"line":75,"column":2},"end":{"line":75,"column":34}},"43":{"start":{"line":76,"column":2},"end":{"line":76,"column":34}},"44":{"start":{"line":77,"column":2},"end":{"line":77,"column":44}},"45":{"start":{"line":80,"column":0},"end":{"line":129,"column":1}},"46":{"start":{"line":82,"column":2},"end":{"line":127,"column":3}},"47":{"start":{"line":83,"column":4},"end":{"line":83,"column":35}},"48":{"start":{"line":85,"column":4},"end":{"line":85,"column":105}},"49":{"start":{"line":87,"column":4},"end":{"line":87,"column":99}},"50":{"start":{"line":90,"column":4},"end":{"line":90,"column":39}},"51":{"start":{"line":91,"column":4},"end":{"line":91,"column":74}},"52":{"start":{"line":92,"column":4},"end":{"line":92,"column":82}},"53":{"start":{"line":95,"column":4},"end":{"line":95,"column":38}},"54":{"start":{"line":97,"column":4},"end":{"line":115,"column":5}},"55":{"start":{"line":98,"column":6},"end":{"line":114,"column":7}},"56":{"start":{"line":99,"column":8},"end":{"line":99,"column":57}},"57":{"start":{"line":101,"column":8},"end":{"line":101,"column":103}},"58":{"start":{"line":104,"column":8},"end":{"line":109,"column":9}},"59":{"start":{"line":105,"column":10},"end":{"line":105,"column":75}},"60":{"start":{"line":106,"column":10},"end":{"line":106,"column":128}},"61":{"start":{"line":108,"column":10},"end":{"line":108,"column":92}},"62":{"start":{"line":111,"column":8},"end":{"line":111,"column":43}},"63":{"start":{"line":112,"column":8},"end":{"line":112,"column":78}},"64":{"start":{"line":117,"column":4},"end":{"line":126,"column":5}},"65":{"start":{"line":118,"column":6},"end":{"line":120,"column":7}},"66":{"start":{"line":119,"column":8},"end":{"line":119,"column":67}},"67":{"start":{"line":123,"column":6},"end":{"line":125,"column":7}},"68":{"start":{"line":124,"column":8},"end":{"line":124,"column":71}},"69":{"start":{"line":131,"column":0},"end":{"line":152,"column":1}},"70":{"start":{"line":133,"column":2},"end":{"line":133,"column":8}},"71":{"start":{"line":134,"column":2},"end":{"line":134,"column":44}},"72":{"start":{"line":136,"column":2},"end":{"line":150,"column":3}},"73":{"start":{"line":138,"column":4},"end":{"line":138,"column":66}},"74":{"start":{"line":141,"column":4},"end":{"line":149,"column":5}},"75":{"start":{"line":142,"column":6},"end":{"line":142,"column":32}},"76":{"start":{"line":143,"column":6},"end":{"line":145,"column":7}},"77":{"start":{"line":144,"column":8},"end":{"line":144,"column":49}},"78":{"start":{"line":146,"column":6},"end":{"line":146,"column":46}},"79":{"start":{"line":147,"column":6},"end":{"line":147,"column":117}},"80":{"start":{"line":154,"column":0},"end":{"line":175,"column":1}},"81":{"start":{"line":156,"column":2},"end":{"line":156,"column":8}},"82":{"start":{"line":157,"column":2},"end":{"line":157,"column":44}},"83":{"start":{"line":160,"column":2},"end":{"line":174,"column":3}},"84":{"start":{"line":162,"column":4},"end":{"line":162,"column":74}},"85":{"start":{"line":164,"column":4},"end":{"line":173,"column":5}},"86":{"start":{"line":165,"column":6},"end":{"line":165,"column":105}},"87":{"start":{"line":167,"column":6},"end":{"line":172,"column":7}},"88":{"start":{"line":168,"column":8},"end":{"line":168,"column":34}},"89":{"start":{"line":169,"column":8},"end":{"line":169,"column":49}},"90":{"start":{"line":170,"column":8},"end":{"line":170,"column":48}},"91":{"start":{"line":171,"column":8},"end":{"line":171,"column":119}},"92":{"start":{"line":177,"column":0},"end":{"line":187,"column":1}},"93":{"start":{"line":179,"column":2},"end":{"line":179,"column":18}},"94":{"start":{"line":180,"column":2},"end":{"line":180,"column":56}},"95":{"start":{"line":182,"column":2},"end":{"line":182,"column":102}},"96":{"start":{"line":182,"column":44},"end":{"line":182,"column":99}},"97":{"start":{"line":183,"column":2},"end":{"line":186,"column":3}},"98":{"start":{"line":185,"column":4},"end":{"line":185,"column":118}},"99":{"start":{"line":185,"column":53},"end":{"line":185,"column":115}},"100":{"start":{"line":189,"column":0},"end":{"line":198,"column":1}},"101":{"start":{"line":192,"column":2},"end":{"line":197,"column":3}},"102":{"start":{"line":193,"column":4},"end":{"line":195,"column":5}},"103":{"start":{"line":194,"column":6},"end":{"line":194,"column":78}},"104":{"start":{"line":200,"column":0},"end":{"line":214,"column":1}},"105":{"start":{"line":202,"column":2},"end":{"line":202,"column":19}},"106":{"start":{"line":204,"column":2},"end":{"line":204,"column":47}},"107":{"start":{"line":205,"column":2},"end":{"line":212,"column":3}},"108":{"start":{"line":206,"column":4},"end":{"line":211,"column":5}},"109":{"start":{"line":207,"column":6},"end":{"line":210,"column":7}},"110":{"start":{"line":208,"column":8},"end":{"line":208,"column":99}},"111":{"start":{"line":209,"column":8},"end":{"line":209,"column":206}},"112":{"start":{"line":216,"column":0},"end":{"line":219,"column":1}},"113":{"start":{"line":218,"column":2},"end":{"line":218,"column":100}},"114":{"start":{"line":218,"column":55},"end":{"line":218,"column":86}},"115":{"start":{"line":225,"column":0},"end":{"line":250,"column":1}},"116":{"start":{"line":227,"column":2},"end":{"line":249,"column":3}},"117":{"start":{"line":228,"column":4},"end":{"line":228,"column":43}},"118":{"start":{"line":231,"column":4},"end":{"line":233,"column":5}},"119":{"start":{"line":232,"column":6},"end":{"line":232,"column":30}},"120":{"start":{"line":234,"column":4},"end":{"line":234,"column":47}},"121":{"start":{"line":236,"column":4},"end":{"line":236,"column":93}},"122":{"start":{"line":237,"column":4},"end":{"line":237,"column":46}},"123":{"start":{"line":239,"column":4},"end":{"line":239,"column":14}},"124":{"start":{"line":240,"column":4},"end":{"line":244,"column":5}},"125":{"start":{"line":241,"column":6},"end":{"line":241,"column":44}},"126":{"start":{"line":243,"column":6},"end":{"line":243,"column":19}},"127":{"start":{"line":246,"column":4},"end":{"line":246,"column":26}},"128":{"start":{"line":248,"column":4},"end":{"line":248,"column":28}},"129":{"start":{"line":252,"column":0},"end":{"line":297,"column":1}},"130":{"start":{"line":254,"column":2},"end":{"line":296,"column":3}},"131":{"start":{"line":255,"column":4},"end":{"line":255,"column":43}},"132":{"start":{"line":258,"column":4},"end":{"line":260,"column":5}},"133":{"start":{"line":259,"column":6},"end":{"line":259,"column":30}},"134":{"start":{"line":261,"column":4},"end":{"line":261,"column":47}},"135":{"start":{"line":263,"column":4},"end":{"line":263,"column":73}},"136":{"start":{"line":263,"column":19},"end":{"line":263,"column":73}},"137":{"start":{"line":264,"column":4},"end":{"line":264,"column":42}},"138":{"start":{"line":266,"column":4},"end":{"line":268,"column":5}},"139":{"start":{"line":267,"column":6},"end":{"line":267,"column":48}},"140":{"start":{"line":270,"column":4},"end":{"line":293,"column":5}},"141":{"start":{"line":271,"column":6},"end":{"line":271,"column":17}},"142":{"start":{"line":273,"column":6},"end":{"line":273,"column":105}},"143":{"start":{"line":274,"column":6},"end":{"line":292,"column":7}},"144":{"start":{"line":281,"column":10},"end":{"line":283,"column":11}},"145":{"start":{"line":282,"column":12},"end":{"line":282,"column":43}},"146":{"start":{"line":284,"column":10},"end":{"line":286,"column":29}},"147":{"start":{"line":285,"column":12},"end":{"line":285,"column":61}},"148":{"start":{"line":287,"column":10},"end":{"line":287,"column":25}},"149":{"start":{"line":288,"column":10},"end":{"line":288,"column":16}},"150":{"start":{"line":291,"column":10},"end":{"line":291,"column":59}},"151":{"start":{"line":295,"column":4},"end":{"line":295,"column":28}},"152":{"start":{"line":299,"column":0},"end":{"line":303,"column":1}},"153":{"start":{"line":301,"column":2},"end":{"line":301,"column":22}},"154":{"start":{"line":302,"column":2},"end":{"line":302,"column":13}},"155":{"start":{"line":309,"column":0},"end":{"line":337,"column":1}},"156":{"start":{"line":311,"column":2},"end":{"line":311,"column":18}},"157":{"start":{"line":313,"column":2},"end":{"line":313,"column":51}},"158":{"start":{"line":315,"column":2},"end":{"line":334,"column":3}},"159":{"start":{"line":317,"column":4},"end":{"line":317,"column":49}},"160":{"start":{"line":318,"column":4},"end":{"line":318,"column":44}},"161":{"start":{"line":320,"column":4},"end":{"line":320,"column":48}},"162":{"start":{"line":328,"column":4},"end":{"line":333,"column":5}},"163":{"start":{"line":329,"column":6},"end":{"line":329,"column":109}},"164":{"start":{"line":332,"column":6},"end":{"line":332,"column":94}},"165":{"start":{"line":336,"column":2},"end":{"line":336,"column":16}},"166":{"start":{"line":339,"column":0},"end":{"line":378,"column":1}},"167":{"start":{"line":341,"column":2},"end":{"line":341,"column":21}},"168":{"start":{"line":345,"column":2},"end":{"line":345,"column":76}},"169":{"start":{"line":348,"column":2},"end":{"line":376,"column":3}},"170":{"start":{"line":350,"column":6},"end":{"line":350,"column":60}},"171":{"start":{"line":351,"column":6},"end":{"line":351,"column":12}},"172":{"start":{"line":357,"column":6},"end":{"line":357,"column":30}},"173":{"start":{"line":358,"column":6},"end":{"line":361,"column":7}},"174":{"start":{"line":359,"column":8},"end":{"line":359,"column":98}},"175":{"start":{"line":360,"column":8},"end":{"line":360,"column":24}},"176":{"start":{"line":362,"column":6},"end":{"line":362,"column":12}},"177":{"start":{"line":365,"column":6},"end":{"line":365,"column":32}},"178":{"start":{"line":366,"column":6},"end":{"line":369,"column":7}},"179":{"start":{"line":367,"column":8},"end":{"line":367,"column":100}},"180":{"start":{"line":368,"column":8},"end":{"line":368,"column":24}},"181":{"start":{"line":370,"column":6},"end":{"line":370,"column":12}},"182":{"start":{"line":374,"column":6},"end":{"line":374,"column":24}},"183":{"start":{"line":375,"column":6},"end":{"line":375,"column":98}},"184":{"start":{"line":377,"column":2},"end":{"line":377,"column":42}},"185":{"start":{"line":380,"column":0},"end":{"line":390,"column":1}},"186":{"start":{"line":382,"column":2},"end":{"line":382,"column":23}},"187":{"start":{"line":383,"column":2},"end":{"line":383,"column":96}},"188":{"start":{"line":386,"column":2},"end":{"line":389,"column":4}}},"branchMap":{"1":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":2},"end":{"line":52,"column":2}},{"start":{"line":52,"column":2},"end":{"line":52,"column":2}}]},"2":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":82,"column":2}},{"start":{"line":82,"column":2},"end":{"line":82,"column":2}}]},"3":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":6}},{"start":{"line":98,"column":6},"end":{"line":98,"column":6}}]},"4":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":8},"end":{"line":104,"column":8}},{"start":{"line":104,"column":8},"end":{"line":104,"column":8}}]},"5":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"6":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":6},"end":{"line":123,"column":6}},{"start":{"line":123,"column":6},"end":{"line":123,"column":6}}]},"7":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":4},"end":{"line":141,"column":4}},{"start":{"line":141,"column":4},"end":{"line":141,"column":4}}]},"8":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":6},"end":{"line":143,"column":6}},{"start":{"line":143,"column":6},"end":{"line":143,"column":6}}]},"9":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":4}},{"start":{"line":164,"column":4},"end":{"line":164,"column":4}}]},"10":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":6},"end":{"line":167,"column":6}},{"start":{"line":167,"column":6},"end":{"line":167,"column":6}}]},"11":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":2},"end":{"line":183,"column":2}},{"start":{"line":183,"column":2},"end":{"line":183,"column":2}}]},"12":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":2},"end":{"line":192,"column":2}},{"start":{"line":192,"column":2},"end":{"line":192,"column":2}}]},"13":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":4}},{"start":{"line":193,"column":4},"end":{"line":193,"column":4}}]},"14":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":6},"end":{"line":207,"column":6}},{"start":{"line":207,"column":6},"end":{"line":207,"column":6}}]},"15":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":2},"end":{"line":227,"column":2}},{"start":{"line":227,"column":2},"end":{"line":227,"column":2}}]},"16":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":4},"end":{"line":231,"column":4}},{"start":{"line":231,"column":4},"end":{"line":231,"column":4}}]},"17":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":4},"end":{"line":240,"column":4}},{"start":{"line":240,"column":4},"end":{"line":240,"column":4}}]},"18":{"line":240,"type":"binary-expr","locations":[{"start":{"line":240,"column":8},"end":{"line":240,"column":61}},{"start":{"line":240,"column":65},"end":{"line":240,"column":106}}]},"19":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":2},"end":{"line":254,"column":2}},{"start":{"line":254,"column":2},"end":{"line":254,"column":2}}]},"20":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":4},"end":{"line":258,"column":4}},{"start":{"line":258,"column":4},"end":{"line":258,"column":4}}]},"21":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":4},"end":{"line":263,"column":4}},{"start":{"line":263,"column":4},"end":{"line":263,"column":4}}]},"22":{"line":263,"type":"cond-expr","locations":[{"start":{"line":263,"column":60},"end":{"line":263,"column":65}},{"start":{"line":263,"column":68},"end":{"line":263,"column":72}}]},"23":{"line":263,"type":"binary-expr","locations":[{"start":{"line":263,"column":28},"end":{"line":263,"column":38}},{"start":{"line":263,"column":42},"end":{"line":263,"column":56}}]},"24":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":4},"end":{"line":266,"column":4}},{"start":{"line":266,"column":4},"end":{"line":266,"column":4}}]},"25":{"line":266,"type":"binary-expr","locations":[{"start":{"line":266,"column":8},"end":{"line":266,"column":39}},{"start":{"line":266,"column":43},"end":{"line":266,"column":82}}]},"26":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":4},"end":{"line":270,"column":4}},{"start":{"line":270,"column":4},"end":{"line":270,"column":4}}]},"27":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":8},"end":{"line":270,"column":39}},{"start":{"line":270,"column":43},"end":{"line":270,"column":82}},{"start":{"line":270,"column":86},"end":{"line":270,"column":125}}]},"28":{"line":274,"type":"switch","locations":[{"start":{"line":275,"column":8},"end":{"line":275,"column":26}},{"start":{"line":276,"column":8},"end":{"line":276,"column":30}},{"start":{"line":277,"column":8},"end":{"line":277,"column":41}},{"start":{"line":278,"column":8},"end":{"line":278,"column":39}},{"start":{"line":279,"column":8},"end":{"line":279,"column":38}},{"start":{"line":280,"column":8},"end":{"line":288,"column":16}},{"start":{"line":290,"column":8},"end":{"line":291,"column":59}}]},"29":{"line":281,"type":"if","locations":[{"start":{"line":281,"column":10},"end":{"line":281,"column":10}},{"start":{"line":281,"column":10},"end":{"line":281,"column":10}}]},"30":{"line":281,"type":"binary-expr","locations":[{"start":{"line":281,"column":14},"end":{"line":281,"column":30}},{"start":{"line":281,"column":34},"end":{"line":281,"column":50}}]},"31":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":2},"end":{"line":315,"column":2}},{"start":{"line":315,"column":2},"end":{"line":315,"column":2}}]},"32":{"line":328,"type":"if","locations":[{"start":{"line":328,"column":4},"end":{"line":328,"column":4}},{"start":{"line":328,"column":4},"end":{"line":328,"column":4}}]},"33":{"line":348,"type":"switch","locations":[{"start":{"line":349,"column":4},"end":{"line":351,"column":12}},{"start":{"line":353,"column":4},"end":{"line":353,"column":15}},{"start":{"line":354,"column":4},"end":{"line":354,"column":17}},{"start":{"line":355,"column":4},"end":{"line":355,"column":18}},{"start":{"line":356,"column":4},"end":{"line":362,"column":12}},{"start":{"line":364,"column":4},"end":{"line":370,"column":12}},{"start":{"line":372,"column":4},"end":{"line":375,"column":98}}]},"34":{"line":350,"type":"cond-expr","locations":[{"start":{"line":350,"column":47},"end":{"line":350,"column":52}},{"start":{"line":350,"column":55},"end":{"line":350,"column":59}}]},"35":{"line":350,"type":"binary-expr","locations":[{"start":{"line":350,"column":15},"end":{"line":350,"column":25}},{"start":{"line":350,"column":29},"end":{"line":350,"column":43}}]},"36":{"line":358,"type":"if","locations":[{"start":{"line":358,"column":6},"end":{"line":358,"column":6}},{"start":{"line":358,"column":6},"end":{"line":358,"column":6}}]},"37":{"line":358,"type":"binary-expr","locations":[{"start":{"line":358,"column":10},"end":{"line":358,"column":35}},{"start":{"line":358,"column":39},"end":{"line":358,"column":63}}]},"38":{"line":366,"type":"if","locations":[{"start":{"line":366,"column":6},"end":{"line":366,"column":6}},{"start":{"line":366,"column":6},"end":{"line":366,"column":6}}]},"39":{"line":366,"type":"binary-expr","locations":[{"start":{"line":366,"column":10},"end":{"line":366,"column":35}},{"start":{"line":366,"column":39},"end":{"line":366,"column":63}}]}},"code":["'use strict';","","var Utils = require('./utils.js').Utils;","","var Service, Characteristic, platform_name, get, set, identify;","","Number.prototype.pad = function (len) {","    return (new Array(len+1).join(\"0\") + this).slice(-len);","}","","module.exports = {","  Accessory: Accessory","}","","function Accessory(params) {","     ","  this.log = params.log;","  Service = params.Service;","  Characteristic = params.Characteristic;","  platform_name = params.platform_name;","  get = params.get;","  set = params.set;","  identify = params.identify;","   ","  this.name;          // assigned by this.configureAccessory","","  this.i_value = {}; ","  this.i_label = {};","  this.i_props = {};","  ","  this.reachable = true;","  ","  this.services = {};","  this.service_types = {};","  this.service_names = {};","  this.service_namesList = [];","  ","  this.set_timeout;","  this.prec_c;","}","","//","// configuration","//","","Accessory.prototype.addService = function(accessory, service_name, service_type) {","","  accessory.addService(Service[service_type], service_name, service_name);","  ","  this.service_types[service_name] = service_type;","  ","  if (typeof accessory.context.service_types === \"undefined\") {","    accessory.context.service_types = {};","  }","  accessory.context.service_types[service_name] = service_type;","}","","Accessory.prototype.removeService = function(service_name) {","","  this.log.debug(\"Accessory.removeService %s %s\", this.name, service_name);","    ","  delete this.services[service_name];","  delete this.service_types[service_name];","  delete this.service_names[service_name];","  ","  delete this.i_value[service_name];","  delete this.i_props[service_name];","  delete this.i_label[service_name];","  this.service_namesList.pop(service_name);","}","","Accessory.prototype.addService_name = function(service_name) {","","  this.i_value[service_name] = {};","  this.i_props[service_name] = {};","  this.i_label[service_name] = {};","  this.service_namesList.push(service_name);","}","","Accessory.prototype.configureAccessory = function(accessory, api_accessory, service_name, service_type) {","","  if (typeof api_accessory !== \"undefined\") {  // new accessory","    this.name = api_accessory.name;","    ","    this.log.debug(\"Accessory.configureAccessory '%s' '%s' '%s'\", this.name, service_name, service_type);","    ","    this.services[service_name] = accessory.getServiceByUUIDAndSubType(service_name, service_name);","    //this.services[service_name] = accessory.getService(service_name);","    ","    this.addService_name(service_name);","    this.configureCharacteristics(accessory, api_accessory, service_name);","    this.configureOptionalCharacteristics(accessory, api_accessory, service_name);","        ","  } else { // cachedAccessories","    this.name = accessory.displayName;","    ","    for (var k in accessory.services) {","      if (typeof accessory.services[k].displayName !== \"undefined\") {","        service_name = accessory.services[k].displayName;","        ","        this.services[service_name] = accessory.getServiceByUUIDAndSubType(service_name, service_name);","        ","        // backwards compatible","        if (typeof this.services[service_name] === \"undefined\" ) {","          this.services[service_name] = accessory.getService(service_name);","          this.log.debug(\"Accessory.configureAccessory [v0.2.4] '%s' '%s'\", this.name, this.services[service_name].displayName);","        } else {","          this.log.debug(\"Accessory.configureAccessory '%s' '%s'\", this.name, service_name);","        }","        ","        this.addService_name(service_name);","        this.configureCharacteristics(accessory, api_accessory, service_name);","        //this.log.debug(\"Accessory.configureAccessory %s\", JSON.stringify(this.services[service_name], null, 2));","      }","    }","    ","    if (typeof accessory.context.service_types !== \"undefined\") {","      for (var k in accessory.context.service_types) {","        this.service_types[k] = accessory.context.service_types[k];","      }","    } else {","      // backwards compatible","      if (typeof accessory.context.service_name !== \"undefined\") {","        this.service_types[this.name] = accessory.context.service_name;","      }","    }","  }","  //this.log.debug(\"Accessory.configureAccessory %s\", JSON.stringify(accessory, null, 2));","}","","Accessory.prototype.configureCharacteristics = function(accessory, api_accessory, service_name) {","","  var c;","  var service = this.services[service_name];","  ","  for (var k in service.characteristics) {","  ","    c = service.characteristics[k].displayName.replace(/\\s/g, \"\");","    //this.log.debug(\"Accessory.configureCharacteristics %s %s %s\", this.name, service_name, c);","    ","    if (c != \"Name\") {","      this.allocate(service, c);","      if (typeof api_accessory !== \"undefined\") {","        this.setProps(service, c, api_accessory);","      }","      this.i_value[service_name][c] = \"blank\";","      this.i_props[service_name][c] = JSON.parse(JSON.stringify(service.getCharacteristic(Characteristic[c]).props));","      //this.log.debug(\"Accessory.configureCharacteristics %s %s %s %s\", this.name, service_name, c, JSON.stringify(this.i_props));","    }","  }","  //this.log.debug(\"Accessory.configureCharacteristics %s\", JSON.stringify(api_accessory[c]));","}","","Accessory.prototype.configureOptionalCharacteristics = function(accessory, api_accessory, service_name) {","","  var c;","  var service = this.services[service_name];","    ","  // note: if the accessories are restored from cachedAccessories, the optionalCharacteristics are stored in characteristics.","  for (var k in service.optionalCharacteristics) {","    ","    c = service.optionalCharacteristics[k].displayName.replace(/\\s/g, \"\");","    ","    if (typeof(api_accessory[c]) !== \"undefined\") {","      this.log.debug(\"Accessory.configureCharacteristics %s %s optional %s\", this.name, service_name, c);","      ","      if (c != \"Name\") {","        this.allocate(service, c);","        this.setProps(service, c, api_accessory);","        this.i_value[service_name][c] = \"blank\";","        this.i_props[service_name][c] = JSON.parse(JSON.stringify(service.getCharacteristic(Characteristic[c]).props));","      }","    }","  }","}","","Accessory.prototype.allocate = function(service, c) {","","  var self = this;","  var sc = service.getCharacteristic(Characteristic[c]);","  ","  sc.on('get', function(callback, context) {self.get(callback, context, this.displayName, this.iid)});","  if (sc.props.perms.indexOf(\"pw\") > -1) { ","    //this.log.debug(\"Accessory.allocate 'set' event %s %s\", this.name, c);","    sc.on('set', function(value, callback, context) {self.set(value, callback, context, this.displayName, this.iid)});","  }","}","","Accessory.prototype.setProps = function(service, c, api_accessory) {","","  // only for newAccessories","  if (typeof(api_accessory[c]) !== \"undefined\") {","    if (api_accessory[c] != \"default\") {","      service.getCharacteristic(Characteristic[c]).setProps(api_accessory[c]);","    }","    //this.log.debug(\"Accessory.setProps %s %s %s\", this.name, c, api_accessory[c]);","  }","}","","Accessory.prototype.getService_names = function() {"," ","  var service_name;","  ","  this.log.debug(\"Accessory.getService_names\");","  for (var k in this.services) {","    for (var i in this.services[k].characteristics) {","      if (this.services[k].characteristics[i].displayName !== \"Name\") {","        this.service_names[this.services[k].characteristics[i].iid] = this.services[k].displayName;","        this.log.debug(\"Accessory.getService_names [iid %s] %s '%s' '%s'\", this.services[k].characteristics[i].iid, this.name, this.services[k].characteristics[i].displayName, this.services[k].displayName);","      }","    }","  }","  //this.log.debug(\"Accessory.getService_names \\n%s\", JSON.stringify(this.service_names));","}","","Accessory.prototype.configureIdentity = function(accessory) {","","  accessory.on('identify', function(paired, callback) {this.identify(paired, callback)}.bind(this));","}","","//","// from HomeKit functions","//","","Accessory.prototype.get = function(callback, context, displayName, iid) {","   ","  if (this.reachable) {","    var c = displayName.replace(/\\s/g, \"\");","    //this.log.debug(\"Accessory.get %s '%s' '%s'\", this.name, iid, c);","    ","    if (typeof this.service_names[iid] === \"undefined\") {","      this.getService_names();","    }","    var service_name = this.service_names[iid];","    ","    this.log.debug(\"Accessory.get [iid %s] '%s' '%s' '%s'\", iid, this.name, service_name, c);","    get(this.name, service_name, c, callback);","    ","    var value;","    if (typeof(this.i_value[service_name][c]) !== \"undefined\" && this.i_value[service_name][c] !== \"blank\") {","      value = this.i_value[service_name][c];","    } else {","      value = null;","    }","    //this.log.debug(\"Accessory.get %s %s %s\", this.name, c, value);","    callback(null, value);","  } else {","    callback(\"no_response\");","  }","}","","Accessory.prototype.set = function(value, callback, context, displayName, iid) {","","  if (this.reachable) {","    var c = displayName.replace(/\\s/g, \"\");","    //this.log.debug(\"Accessory.set %s '%s' '%s' %s\", this.name, iid, c, value);  ","    ","    if (typeof this.service_names[iid] === \"undefined\") {","      this.getService_names();","    }","    var service_name = this.service_names[iid];","        ","    if (c == \"On\") value = (value == 0 || value == false) ? false : true;","    this.i_value[service_name][c] = value;","    ","    if (typeof(context) !== \"undefined\" && typeof(context.trigger) === \"undefined\") {","      this.setLabel(\"homekit\", service_name, c);","    }","","    if (typeof(context) !== \"undefined\" && typeof(context.trigger) !== \"undefined\" && context.trigger.includes(platform_name)) {","      callback();","    } else {","      this.log.debug(\"Accessory.set [iid %s] '%s' '%s' '%s' %s\", iid, this.name, service_name, c, value);","      switch (c) {","        case \"Brightness\":","        case \"TargetPosition\":","        case \"TargetHorizontalTiltAngle\":","        case \"TargetVerticalTiltAngle\":","        case \"TargetRelativeHumidity\":","        case \"TargetTemperature\":","          if (this.set_timeout && c === this.pre_c) {","            clearTimeout(this.set_timeout);","          }","          this.set_timeout = setTimeout(function() {","            set(this.name, service_name, c, value, callback);","          }.bind(this), 250);","          this.pre_c = c;","          break;","          ","        default:","          set(this.name, service_name, c, value, callback);","      }","    }","  } else {","    callback(\"no_response\");","  }","}","","Accessory.prototype.identify = function (paired, callback) {"," ","  identify(this.name);","  callback();","}","","//","// to HomeKit and value-handling functions","//","","Accessory.prototype.save_and_setValue = function (trigger, service_name, c, value) {","  ","  var result = {};","  ","  result = this.parseValue(service_name, c, value);","","  if (result.isValid) {","    //this.log.debug(\"Accessory.save_and_setValue '%s' '%s' '%s' %s\", this.name, service_name, c, value);","    this.i_value[service_name][c] = result.value;","    this.setLabel(trigger, service_name, c);","  ","    var context = this.i_label[service_name][c];","    //context is also used by the hap-server ('get' and 'set' event) - \"context\": {\"keepalive\":true, ...","    //this.log.debug(\"Accessory.save_and_setValue %s %s %s %s %s \", trigger, this.name, c, result.value, JSON.stringify(context));","","    // todo: to clarify","    // A function to only updating the remote value, but not firiring the 'set' event.","    // Service.prototype.updateCharacteristic = function(name, value)","    ","    if (typeof(context) !== \"undefined\") {","      this.services[service_name].getCharacteristic(Characteristic[c]).setValue(result.value, null, context);","    }","    else {","      this.services[service_name].getCharacteristic(Characteristic[c]).setValue(result.value);","    }","  }","  ","  return result;","}","","Accessory.prototype.parseValue = function(service_name, c, value) {","","  var isValid = true;","  ","  //this.log.debug(\"Accessory.parseValue %s %s\", service_name, c);","  ","  var sc = this.services[service_name].getCharacteristic(Characteristic[c]);","  //this.log.debug(\"Accessory.parseValue %s %s\", c, JSON.stringify(sc));","   ","  switch (sc.props.format) {","    case \"bool\":","      value = (value == 0 || value == false) ? false : true;","      break;","      ","    case \"int\":","    case \"uint8\":","    case \"uint16\":","    case \"unit32\":","      value = parseInt(value);","      if (value < sc.props.minValue || value > sc.props.maxalue) {","        this.log.debug(\"Accessory.parseInt %s %s value '%s' outside range.\", this.name, c, value);","        isValid = false;","      }","      break;","      ","    case \"float\":","      value = parseFloat(value);","      if (value < sc.props.minValue || value > sc.props.maxalue) {","        this.log.debug(\"Accessory.parseFloat %s %s value '%s' outside range.\", this.name, c, value);","        isValid = false;","      }","      break;","      ","    default:","      // string, tlv8, ","      value = undefined;","      this.log.warn(\"Accessory.parseValue %s %s %s %s\", name, c, value, JSON.stringify(sc.props));","  }","  return {isValid: isValid, value: value};","}","","Accessory.prototype.setLabel = function(trigger, service_name, c) {","","  var now = new Date();","  var timestamp = now.getHours().pad(2)+\":\"+now.getMinutes().pad(2)+\":\"+now.getSeconds().pad(2);","   // +\",\"+now.getMilliseconds(); ","  ","  this.i_label[service_name][c] = {","    \"timestamp\": timestamp,","    \"trigger\": trigger","  };","}",""],"l":{"3":1,"5":1,"7":1,"8":0,"11":1,"15":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"25":0,"27":0,"28":0,"29":0,"31":0,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"46":1,"48":0,"50":0,"52":0,"53":0,"55":0,"58":1,"60":0,"62":0,"63":0,"64":0,"66":0,"67":0,"68":0,"69":0,"72":1,"74":0,"75":0,"76":0,"77":0,"80":1,"82":0,"83":0,"85":0,"87":0,"90":0,"91":0,"92":0,"95":0,"97":0,"98":0,"99":0,"101":0,"104":0,"105":0,"106":0,"108":0,"111":0,"112":0,"117":0,"118":0,"119":0,"123":0,"124":0,"131":1,"133":0,"134":0,"136":0,"138":0,"141":0,"142":0,"143":0,"144":0,"146":0,"147":0,"154":1,"156":0,"157":0,"160":0,"162":0,"164":0,"165":0,"167":0,"168":0,"169":0,"170":0,"171":0,"177":1,"179":0,"180":0,"182":0,"183":0,"185":0,"189":1,"192":0,"193":0,"194":0,"200":1,"202":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"216":1,"218":0,"225":1,"227":0,"228":0,"231":0,"232":0,"234":0,"236":0,"237":0,"239":0,"240":0,"241":0,"243":0,"246":0,"248":0,"252":1,"254":0,"255":0,"258":0,"259":0,"261":0,"263":0,"264":0,"266":0,"267":0,"270":0,"271":0,"273":0,"274":0,"281":0,"282":0,"284":0,"285":0,"287":0,"288":0,"291":0,"295":0,"299":1,"301":0,"302":0,"309":1,"311":0,"313":0,"315":0,"317":0,"318":0,"320":0,"328":0,"329":0,"332":0,"336":0,"339":1,"341":0,"345":0,"348":0,"350":0,"351":0,"357":0,"358":0,"359":0,"360":0,"362":0,"365":0,"366":0,"367":0,"368":0,"370":0,"374":0,"375":0,"377":0,"380":1,"382":0,"383":0,"386":0}},"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/lib/model.js":{"path":"/home/travis/build/npmtest/node-npmtest-homebridge-mqtt/node_modules/homebridge-mqtt/lib/model.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":1,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":1,"125":0,"126":0,"127":0,"128":1,"129":0,"130":0,"131":1,"132":0,"133":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0,0,0,0,0,0,0,0,0,0,0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"Model","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":23}}},"2":{"name":"(anonymous_2)","line":31,"loc":{"start":{"line":31,"column":24},"end":{"line":31,"column":35}}},"3":{"name":"(anonymous_3)","line":55,"loc":{"start":{"line":55,"column":27},"end":{"line":55,"column":38}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":23},"end":{"line":61,"column":35}}},"5":{"name":"(anonymous_5)","line":77,"loc":{"start":{"line":77,"column":23},"end":{"line":77,"column":48}}},"6":{"name":"(anonymous_6)","line":179,"loc":{"start":{"line":179,"column":21},"end":{"line":179,"column":38}}},"7":{"name":"(anonymous_7)","line":183,"loc":{"start":{"line":183,"column":25},"end":{"line":183,"column":37}}},"8":{"name":"(anonymous_8)","line":187,"loc":{"start":{"line":187,"column":21},"end":{"line":187,"column":33}}},"9":{"name":"(anonymous_9)","line":191,"loc":{"start":{"line":191,"column":23},"end":{"line":191,"column":35}}},"10":{"name":"(anonymous_10)","line":197,"loc":{"start":{"line":197,"column":22},"end":{"line":197,"column":64}}},"11":{"name":"(anonymous_11)","line":205,"loc":{"start":{"line":205,"column":22},"end":{"line":205,"column":71}}},"12":{"name":"(anonymous_12)","line":214,"loc":{"start":{"line":214,"column":27},"end":{"line":214,"column":78}}},"13":{"name":"(anonymous_13)","line":221,"loc":{"start":{"line":221,"column":34},"end":{"line":221,"column":57}}},"14":{"name":"(anonymous_14)","line":228,"loc":{"start":{"line":228,"column":25},"end":{"line":228,"column":43}}},"15":{"name":"(anonymous_15)","line":234,"loc":{"start":{"line":234,"column":26},"end":{"line":234,"column":50}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":132}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":24}},"6":{"start":{"line":10,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":14,"column":0},"end":{"line":29,"column":1}},"8":{"start":{"line":16,"column":2},"end":{"line":16,"column":30}},"9":{"start":{"line":17,"column":2},"end":{"line":17,"column":24}},"10":{"start":{"line":18,"column":2},"end":{"line":18,"column":35}},"11":{"start":{"line":19,"column":2},"end":{"line":19,"column":41}},"12":{"start":{"line":21,"column":2},"end":{"line":21,"column":37}},"13":{"start":{"line":22,"column":2},"end":{"line":22,"column":33}},"14":{"start":{"line":23,"column":2},"end":{"line":23,"column":43}},"15":{"start":{"line":24,"column":2},"end":{"line":24,"column":39}},"16":{"start":{"line":25,"column":2},"end":{"line":25,"column":29}},"17":{"start":{"line":26,"column":2},"end":{"line":26,"column":41}},"18":{"start":{"line":27,"column":2},"end":{"line":27,"column":49}},"19":{"start":{"line":28,"column":2},"end":{"line":28,"column":59}},"20":{"start":{"line":31,"column":0},"end":{"line":195,"column":1}},"21":{"start":{"line":33,"column":2},"end":{"line":33,"column":28}},"22":{"start":{"line":35,"column":2},"end":{"line":35,"column":19}},"23":{"start":{"line":37,"column":2},"end":{"line":37,"column":28}},"24":{"start":{"line":39,"column":2},"end":{"line":39,"column":58}},"25":{"start":{"line":41,"column":2},"end":{"line":41,"column":50}},"26":{"start":{"line":42,"column":2},"end":{"line":42,"column":50}},"27":{"start":{"line":44,"column":2},"end":{"line":44,"column":63}},"28":{"start":{"line":47,"column":2},"end":{"line":53,"column":3}},"29":{"start":{"line":48,"column":4},"end":{"line":48,"column":34}},"30":{"start":{"line":49,"column":4},"end":{"line":49,"column":31}},"31":{"start":{"line":51,"column":4},"end":{"line":51,"column":62}},"32":{"start":{"line":52,"column":4},"end":{"line":52,"column":40}},"33":{"start":{"line":55,"column":2},"end":{"line":59,"column":22}},"34":{"start":{"line":56,"column":4},"end":{"line":58,"column":5}},"35":{"start":{"line":57,"column":6},"end":{"line":57,"column":55}},"36":{"start":{"line":61,"column":2},"end":{"line":75,"column":16}},"37":{"start":{"line":63,"column":4},"end":{"line":63,"column":42}},"38":{"start":{"line":64,"column":4},"end":{"line":64,"column":109}},"39":{"start":{"line":64,"column":30},"end":{"line":64,"column":109}},"40":{"start":{"line":66,"column":4},"end":{"line":66,"column":39}},"41":{"start":{"line":67,"column":4},"end":{"line":67,"column":28}},"42":{"start":{"line":68,"column":4},"end":{"line":68,"column":53}},"43":{"start":{"line":70,"column":4},"end":{"line":70,"column":51}},"44":{"start":{"line":71,"column":4},"end":{"line":71,"column":63}},"45":{"start":{"line":72,"column":4},"end":{"line":72,"column":41}},"46":{"start":{"line":74,"column":4},"end":{"line":74,"column":80}},"47":{"start":{"line":77,"column":2},"end":{"line":177,"column":16}},"48":{"start":{"line":79,"column":4},"end":{"line":79,"column":36}},"49":{"start":{"line":80,"column":4},"end":{"line":80,"column":27}},"50":{"start":{"line":81,"column":4},"end":{"line":81,"column":24}},"51":{"start":{"line":83,"column":4},"end":{"line":176,"column":5}},"52":{"start":{"line":84,"column":6},"end":{"line":84,"column":43}},"53":{"start":{"line":85,"column":6},"end":{"line":85,"column":47}},"54":{"start":{"line":86,"column":6},"end":{"line":86,"column":35}},"55":{"start":{"line":91,"column":6},"end":{"line":107,"column":7}},"56":{"start":{"line":92,"column":8},"end":{"line":92,"column":40}},"57":{"start":{"line":94,"column":8},"end":{"line":101,"column":9}},"58":{"start":{"line":95,"column":10},"end":{"line":95,"column":65}},"59":{"start":{"line":96,"column":10},"end":{"line":96,"column":51}},"60":{"start":{"line":97,"column":10},"end":{"line":97,"column":39}},"61":{"start":{"line":98,"column":10},"end":{"line":98,"column":26}},"62":{"start":{"line":100,"column":10},"end":{"line":100,"column":25}},"63":{"start":{"line":103,"column":8},"end":{"line":103,"column":40}},"64":{"start":{"line":104,"column":8},"end":{"line":104,"column":65}},"65":{"start":{"line":105,"column":8},"end":{"line":105,"column":37}},"66":{"start":{"line":106,"column":8},"end":{"line":106,"column":24}},"67":{"start":{"line":109,"column":6},"end":{"line":175,"column":7}},"68":{"start":{"line":110,"column":8},"end":{"line":174,"column":9}},"69":{"start":{"line":113,"column":12},"end":{"line":113,"column":86}},"70":{"start":{"line":114,"column":12},"end":{"line":114,"column":45}},"71":{"start":{"line":115,"column":12},"end":{"line":115,"column":32}},"72":{"start":{"line":116,"column":12},"end":{"line":116,"column":18}},"73":{"start":{"line":120,"column":12},"end":{"line":120,"column":94}},"74":{"start":{"line":121,"column":12},"end":{"line":121,"column":43}},"75":{"start":{"line":122,"column":12},"end":{"line":122,"column":32}},"76":{"start":{"line":123,"column":12},"end":{"line":123,"column":18}},"77":{"start":{"line":127,"column":12},"end":{"line":134,"column":13}},"78":{"start":{"line":128,"column":14},"end":{"line":128,"column":53}},"79":{"start":{"line":129,"column":14},"end":{"line":129,"column":34}},"80":{"start":{"line":131,"column":14},"end":{"line":131,"column":84}},"81":{"start":{"line":132,"column":14},"end":{"line":132,"column":54}},"82":{"start":{"line":133,"column":14},"end":{"line":133,"column":43}},"83":{"start":{"line":135,"column":12},"end":{"line":135,"column":18}},"84":{"start":{"line":139,"column":12},"end":{"line":139,"column":56}},"85":{"start":{"line":140,"column":12},"end":{"line":140,"column":32}},"86":{"start":{"line":141,"column":12},"end":{"line":141,"column":18}},"87":{"start":{"line":145,"column":12},"end":{"line":145,"column":53}},"88":{"start":{"line":146,"column":12},"end":{"line":146,"column":32}},"89":{"start":{"line":147,"column":12},"end":{"line":147,"column":18}},"90":{"start":{"line":150,"column":12},"end":{"line":150,"column":46}},"91":{"start":{"line":151,"column":12},"end":{"line":151,"column":32}},"92":{"start":{"line":152,"column":12},"end":{"line":152,"column":18}},"93":{"start":{"line":155,"column":12},"end":{"line":155,"column":41}},"94":{"start":{"line":156,"column":12},"end":{"line":158,"column":13}},"95":{"start":{"line":157,"column":14},"end":{"line":157,"column":34}},"96":{"start":{"line":159,"column":12},"end":{"line":159,"column":18}},"97":{"start":{"line":162,"column":12},"end":{"line":162,"column":47}},"98":{"start":{"line":163,"column":12},"end":{"line":167,"column":13}},"99":{"start":{"line":164,"column":14},"end":{"line":164,"column":55}},"100":{"start":{"line":166,"column":14},"end":{"line":166,"column":34}},"101":{"start":{"line":168,"column":12},"end":{"line":168,"column":18}},"102":{"start":{"line":171,"column":12},"end":{"line":171,"column":54}},"103":{"start":{"line":172,"column":12},"end":{"line":172,"column":60}},"104":{"start":{"line":173,"column":12},"end":{"line":173,"column":41}},"105":{"start":{"line":179,"column":2},"end":{"line":181,"column":16}},"106":{"start":{"line":180,"column":4},"end":{"line":180,"column":41}},"107":{"start":{"line":183,"column":2},"end":{"line":185,"column":16}},"108":{"start":{"line":184,"column":4},"end":{"line":184,"column":50}},"109":{"start":{"line":187,"column":2},"end":{"line":189,"column":16}},"110":{"start":{"line":188,"column":4},"end":{"line":188,"column":46}},"111":{"start":{"line":191,"column":2},"end":{"line":193,"column":16}},"112":{"start":{"line":192,"column":4},"end":{"line":192,"column":48}},"113":{"start":{"line":197,"column":0},"end":{"line":203,"column":1}},"114":{"start":{"line":200,"column":2},"end":{"line":200,"column":78}},"115":{"start":{"line":201,"column":2},"end":{"line":201,"column":88}},"116":{"start":{"line":205,"column":0},"end":{"line":212,"column":1}},"117":{"start":{"line":208,"column":2},"end":{"line":208,"column":94}},"118":{"start":{"line":210,"column":2},"end":{"line":210,"column":88}},"119":{"start":{"line":211,"column":2},"end":{"line":211,"column":13}},"120":{"start":{"line":214,"column":0},"end":{"line":219,"column":1}},"121":{"start":{"line":216,"column":2},"end":{"line":216,"column":103}},"122":{"start":{"line":217,"column":2},"end":{"line":217,"column":53}},"123":{"start":{"line":218,"column":2},"end":{"line":218,"column":93}},"124":{"start":{"line":221,"column":0},"end":{"line":226,"column":1}},"125":{"start":{"line":223,"column":2},"end":{"line":223,"column":24}},"126":{"start":{"line":224,"column":2},"end":{"line":224,"column":71}},"127":{"start":{"line":225,"column":2},"end":{"line":225,"column":93}},"128":{"start":{"line":228,"column":0},"end":{"line":232,"column":1}},"129":{"start":{"line":230,"column":2},"end":{"line":230,"column":43}},"130":{"start":{"line":231,"column":2},"end":{"line":231,"column":66}},"131":{"start":{"line":234,"column":0},"end":{"line":239,"column":1}},"132":{"start":{"line":236,"column":2},"end":{"line":236,"column":45}},"133":{"start":{"line":238,"column":2},"end":{"line":238,"column":93}}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":17},"end":{"line":39,"column":41}},{"start":{"line":39,"column":45},"end":{"line":39,"column":57}}]},"2":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":21},"end":{"line":41,"column":41}},{"start":{"line":41,"column":45},"end":{"line":41,"column":49}}]},"3":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":21},"end":{"line":42,"column":41}},{"start":{"line":42,"column":45},"end":{"line":42,"column":49}}]},"4":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":34},"end":{"line":44,"column":52}},{"start":{"line":44,"column":56},"end":{"line":44,"column":61}}]},"5":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"6":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":5},"end":{"line":47,"column":30}},{"start":{"line":47,"column":34},"end":{"line":47,"column":59}}]},"7":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"8":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"9":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":4},"end":{"line":83,"column":4}},{"start":{"line":83,"column":4},"end":{"line":83,"column":4}}]},"10":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":8},"end":{"line":83,"column":36}},{"start":{"line":83,"column":40},"end":{"line":83,"column":60}}]},"11":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":8}},{"start":{"line":94,"column":8},"end":{"line":94,"column":8}}]},"12":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":6},"end":{"line":109,"column":6}},{"start":{"line":109,"column":6},"end":{"line":109,"column":6}}]},"13":{"line":110,"type":"switch","locations":[{"start":{"line":111,"column":10},"end":{"line":111,"column":40}},{"start":{"line":112,"column":10},"end":{"line":116,"column":18}},{"start":{"line":118,"column":10},"end":{"line":118,"column":48}},{"start":{"line":119,"column":10},"end":{"line":123,"column":18}},{"start":{"line":125,"column":10},"end":{"line":125,"column":53}},{"start":{"line":126,"column":10},"end":{"line":135,"column":18}},{"start":{"line":137,"column":10},"end":{"line":137,"column":61}},{"start":{"line":138,"column":10},"end":{"line":141,"column":18}},{"start":{"line":143,"column":10},"end":{"line":143,"column":43}},{"start":{"line":144,"column":10},"end":{"line":147,"column":18}},{"start":{"line":149,"column":10},"end":{"line":152,"column":18}},{"start":{"line":154,"column":10},"end":{"line":159,"column":18}},{"start":{"line":161,"column":10},"end":{"line":168,"column":18}},{"start":{"line":170,"column":10},"end":{"line":173,"column":41}}]},"14":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":12},"end":{"line":127,"column":12}},{"start":{"line":127,"column":12},"end":{"line":127,"column":12}}]},"15":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":12},"end":{"line":156,"column":12}},{"start":{"line":156,"column":12},"end":{"line":156,"column":12}}]},"16":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":12},"end":{"line":163,"column":12}},{"start":{"line":163,"column":12},"end":{"line":163,"column":12}}]}},"code":["'use strict';","","var mqtt = require('mqtt');","var Utils = require('./utils.js').Utils;","","var plugin_name, topic_prefix, Characteristic;","var addAccessory, addService, removeAccessory, removeService, setValue, getAccessories, updateReachability, setAccessoryInformation;","var set_timeout, client;","","module.exports = {","  Model: Model","}","","function Model(params) {","","  this.config = params.config;","  this.log = params.log;","  plugin_name = params.plugin_name;","  Characteristic = params.Characteristic;","  ","  addAccessory = params.addAccessory;","  addService = params.addService;","  removeAccessory = params.removeAccessory;","  removeService = params.removeService;","  setValue = params.setValue;","  getAccessories = params.getAccessories;","  updateReachability = params.updateReachability;","  setAccessoryInformation = params.setAccessoryInformation;","}","","Model.prototype.start = function() {","","  var url = this.config.url;","  ","  var options = {};","  // experimental","  this.publish_options = {};","  ","  topic_prefix = this.config.topic_prefix || \"homebridge\";","  ","  options.username = this.config.username ||null;","  options.password = this.config.password || null;","","  this.publish_options = {retain: this.config.retain || false};","  //this.log.debug(\"connect options %s\", JSON.stringify(this.publish_options));","  ","  if(options.username === null || options.password === null) {","    this.log(\"connect Anonymous\");","    client = mqtt.connect(url);","  } else {","    this.log(\"connect Authentication with username/password\");","    client = mqtt.connect(url, options);","  }","  ","  var timeout = setTimeout(function() {","    if (!client.connected) {","      this.log.error(\"connect error! (url = %s)\", url);","    }","  }.bind(this), 5000);","  ","  client.on('connect', function () {","  ","    this.log(\"connected (url = %s)\", url);","    if (this.config.username) this.log.debug(\"on.connect %s %s\", this.config.username, this.config.password);","    ","    var topic = topic_prefix + '/to/#';","    client.subscribe(topic);","    this.log.debug(\"on.connect subscribe %s\", topic);","","    var plugin_version = Utils.readPluginVersion();","    var msg = plugin_name + \" v\" + plugin_version + \" started\";","    this.log.debug(\"on.connect %s\", msg);","    ","    client.publish(topic_prefix + '/from/connected', msg, this.publish_options);","  }.bind(this));","  ","  client.on('message', function (topic, buffer) {","","    var payload = buffer.toString();","    var message, accessory;","    var result, isValid;","    ","    if (typeof topic === \"undefined\" || payload.length === 0) {","      message = \"topic or payload invalid\";","      this.log.debug(\"on.message %s\", message);","      this.sendAck(false, message);","    } else {","    ","      //this.log.debug(\"on.message topic %s payload %s\", topic, payload);","      ","      try {","        accessory = JSON.parse(payload);","        ","        if (typeof accessory.subtype !== \"undefined\") {","          message = \"Please replace 'subtype' by 'service_name'\";","          this.log.debug(\"on.message %s\", message);","          this.sendAck(false, message);","          isValid = false;","        } else {","          isValid = true;","        }","      } catch(e) {","        message = \"invalid JSON format\";","        this.log.debug(\"on.message %s (%s)\", message, e.message);","        this.sendAck(false, message);","        isValid = false;","      }","","      if (isValid) {","        switch (topic) {","          case topic_prefix + \"/to/add\":","          case topic_prefix + \"/to/add/accessory\":","            this.log.debug(\"on.message add \\n%s\", JSON.stringify(accessory, null, 2));","            result = addAccessory(accessory);","            this.handle(result);","            break;","","          case topic_prefix + \"/to/add/service\":","          case topic_prefix + \"/to/add/services\":","            this.log.debug(\"on.message add/service \\n%s\", JSON.stringify(accessory, null, 2));","            result = addService(accessory);","            this.handle(result);","            break;","","          case topic_prefix + \"/to/set/reachability\":","          case topic_prefix + \"/to/set/reachable\":","            if (typeof accessory.reachable === \"boolean\") {","              result = updateReachability(accessory);","              this.handle(result);","            } else {","              message = \"accessory '\" + accessory.name + \"' reachable not boolean.\";","              this.log.warn(\"on.message %s\", message);","              this.sendAck(false, message);","            }","            break;","            ","          case topic_prefix + \"/to/set/accessoryinformation\":","          case topic_prefix + \"/to/set/information\":","            result = setAccessoryInformation(accessory);","            this.handle(result);","            break;","            ","          case topic_prefix + \"/to/remove\":","          case topic_prefix + \"/to/remove/accessory\":","            result = removeAccessory(accessory.name);","            this.handle(result);","            break;","            ","          case topic_prefix + \"/to/remove/service\":","            result = removeService(accessory);","            this.handle(result);","            break;","            ","          case topic_prefix + \"/to/set\":","            result = setValue(accessory);","            if (!result.ack) {","              this.handle(result);","            }","            break;","","          case topic_prefix + \"/to/get\":","            result = getAccessories(accessory);","            if (result.ack) {","              this.sendAccessories(result.accessories);","            } else {","              this.handle(result);","            }","            break;","","          default:","            message = \"topic '\" + topic + \"' unkown.\";","            this.log.warn(\"on.message default %s\", message);","            this.sendAck(false, message);","        }","      }","    }","  }.bind(this));","  ","  client.on('error', function (error) {","    this.log.error(\"on.error %s\", error);","  }.bind(this));","  ","  client.on('reconnect', function () {","    this.log.debug(\"  <to analyze> on.reconnect\");","  }.bind(this));","  ","  client.on('close', function () {","    this.log.debug(\"  <to analyze> on.close\");","  }.bind(this));","","  client.on('offline', function () {","    this.log.debug(\"  <to analyze> on.offline\");","  }.bind(this));"," ","}","","Model.prototype.get = function(name, service_name, c, callback) {","","  //this.log.debug(\"get '%s' '%s' '%s'\", name, service_name, c);","  var msg = {\"name\": name, \"service_name\": service_name, \"characteristic\": c};","  client.publish(topic_prefix + '/from/get', JSON.stringify(msg), this.publish_options);","  // callback(null, null);  // not used","}","","Model.prototype.set = function(name, service_name, c, value, callback) {","     ","  //this.log.debug(\"set '%s' '%s' '%s' %s\", name, service_name, c, value);","  var msg = {\"name\": name, \"service_name\": service_name, \"characteristic\": c, \"value\": value};","","  client.publish(topic_prefix + '/from/set', JSON.stringify(msg), this.publish_options);","  callback();","}","","Model.prototype.identify = function (name, manufacturer, model, serialnumber) {","","  var msg = {\"name\": name, \"manufacturer\": manufacturer, \"model\": model, \"serialnumber\": serialnumber};","  this.log.debug(\"identify %s\", JSON.stringify(msg));","  client.publish(topic_prefix + '/from/identify', JSON.stringify(msg), this.publish_options);","}","","Model.prototype.sendAccessories = function (accessories) {","","  var msg = accessories;","  this.log.debug(\"sendAccessories \\n%s\", JSON.stringify(msg, null, 2));","  client.publish(topic_prefix + '/from/response', JSON.stringify(msg), this.publish_options);","}","","Model.prototype.handle = function (result) {","","  this.sendAck(result.ack, result.message);","  this.log(\"%s %s, %s\", result.topic, result.ack, result.message);","}","","Model.prototype.sendAck = function (ack, message) {","","  var msg = {\"ack\": ack, \"message\": message};","  //this.log.debug(\"sendAck %s\", JSON.stringify(msg));","  client.publish(topic_prefix + '/from/response', JSON.stringify(msg), this.publish_options);","}",""],"l":{"3":1,"4":1,"6":1,"7":1,"8":1,"10":1,"14":1,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"31":1,"33":0,"35":0,"37":0,"39":0,"41":0,"42":0,"44":0,"47":0,"48":0,"49":0,"51":0,"52":0,"55":0,"56":0,"57":0,"61":0,"63":0,"64":0,"66":0,"67":0,"68":0,"70":0,"71":0,"72":0,"74":0,"77":0,"79":0,"80":0,"81":0,"83":0,"84":0,"85":0,"86":0,"91":0,"92":0,"94":0,"95":0,"96":0,"97":0,"98":0,"100":0,"103":0,"104":0,"105":0,"106":0,"109":0,"110":0,"113":0,"114":0,"115":0,"116":0,"120":0,"121":0,"122":0,"123":0,"127":0,"128":0,"129":0,"131":0,"132":0,"133":0,"135":0,"139":0,"140":0,"141":0,"145":0,"146":0,"147":0,"150":0,"151":0,"152":0,"155":0,"156":0,"157":0,"159":0,"162":0,"163":0,"164":0,"166":0,"168":0,"171":0,"172":0,"173":0,"179":0,"180":0,"183":0,"184":0,"187":0,"188":0,"191":0,"192":0,"197":1,"200":0,"201":0,"205":1,"208":0,"210":0,"211":0,"214":1,"216":0,"217":0,"218":0,"221":1,"223":0,"224":0,"225":0,"228":1,"230":0,"231":0,"234":1,"236":0,"238":0}}}